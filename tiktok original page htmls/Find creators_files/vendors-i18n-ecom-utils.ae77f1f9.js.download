/*! For license information please see vendors-i18n-ecom-utils.ae77f1f9.js.LICENSE.txt */
"use strict";(window.webpackChunkecom_seller=window.webpackChunkecom_seller||[]).push([[525],{90491:function(e,t,n){n(52890);var r,i=n(67308),o=n(29019),a=n.n(o),s=n(36927),l=n.n(s),u=n(27218),c=n.n(u),d=n(63850),h=n.n(d),m=n(46619),p=n(69783),f=n(49105),v=n(39190),g=n(79149),b=n.n(g),y=n(64399);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=l;var c={};function d(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(k([])));v&&v!==t&&n.call(v,i)&&(p=v);var g=m.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,s(g,"constructor",m),s(m,"constructor",h),h.displayName=s(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),s(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new y(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T;(0,f.DU)(r||(r=k(["\n  .focus-outline-hidden :focus {\n      outline: none;\n  }\n"])));function S(e){var t=e.children,n=(0,i.useRef)(null);return null===n.current&&(n.current=document.createElement("div"),n.current.setAttribute("id","___reactour")),(0,i.useEffect)((function(){return document.body.appendChild(n.current),function(){document.body.removeChild(n.current)}}),[n]),(0,v.createPortal)(t,n.current)}var O,N,A=f.Ay.button(T||(T=k(["\n  display: block;\n  padding: 0;\n  border: 0;\n  background: none;\n  font-size: 0;\n  cursor: ",";\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),B=f.Ay.span(O||(O=k(["\n  font-size: 12px;\n  line-height: 1;\n"])));function P(e){var t=e.className,n=e.onClick,r=e.inverted,o=e.label,a=e.disabled,s=e.htmlTag;return i.createElement(A,{className:t,onClick:n,"data-tour-elem":"".concat(r?"right":"left","-arrow"),disabled:a,as:s},o?i.createElement(B,null,o):i.createElement("svg",{viewBox:"0 0 18.4 14.4"},i.createElement("path",{d:r?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"})))}P.propTypes={className:b().string.isRequired,onClick:b().func.isRequired,inverted:b().bool,label:b().node,disabled:b().bool};var D,M=(0,f.Ay)(P)(N||(N=k(["\n  color: ",";\n\n  ",";\n  ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.disabled?"#caccce":"#646464"}),(function(e){return e.inverted?"margin-left: 24px;":"margin-right: 24px;"}),(function(e){return!e.label&&"\n    width: 16px;\n    height: 12px;\n    flex: 0 0 16px;\n  "}),(function(e){return e.disabled?"#caccce":"#000"}));function L(e){var t=e.className,n=e.onClick,r=e.ariaLabel,o=e.closeButton,a=e.htmlTag;return i.createElement(A,{className:t,onClick:n,"aria-label":r,as:a},o)}L.propTypes={className:b().string.isRequired,onClick:b().func.isRequired,ariaLabel:b().string};var j=(0,f.Ay)(L)(D||(D=k(["\n  &:hover {\n    color: #000;\n  }\n"])));function U(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function H(e){var t=e.top,n=e.right,r=e.bottom,i=e.left,o=e.w,a=e.h,s=e.threshold,l=void 0===s?0:s;return t>=0+l&&i>=0+l&&r<=a-l&&n<=o-l}function G(e){return e===document.querySelector("body")||e===document.querySelector("html")}var z,K=function(e,t){return e>t},V=function(e,t){return e>t},W=function(e){return e<0?0:e};function F(){return{w:Math.max(document.documentElement.clientWidth,window.innerWidth||0),h:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}var $,Y,J,q,X,Q=f.Ay.div(z||(z=k(["\n  --reactour-accent: ",";\n  ","\n  position: fixed;\n  transition: transform 0.3s;\n  top: 0;\n  left: 0;\n  z-index: 1000000;\n\n\n  transform: ",";\n"])),(function(e){return e.accentColor}),(function(e){return e.defaultStyles?"\n  max-width: 331px;\n  min-width: 150px;\n  padding-right: 40px;\n  border-radius: ".concat(e.rounded,"px;\n  background-color: #fff;\n  padding: 24px 30px;\n  box-shadow: 0 0.5em 3em rgba(0, 0, 0, 0.3);\n  color: inherit;\n  "):""}),(function(e){var t=e.targetTop,n=e.targetRight,r=e.targetBottom,i=e.targetLeft,o=e.windowWidth,a=e.windowHeight,s=e.helperWidth,l=e.helperHeight,u=e.helperPosition,c=e.padding,d=e.distance,h=e.offset,m={left:i,right:o-n,top:t,bottom:a-r},p=function(e){return m[e]>(function(e){return/(left|right)/.test(e)}(e)?s+2*c:l+2*c)},f=function(e){for(var t,n=(t=m,Object.keys(t).map((function(e){return{position:e,value:t[e]}})).sort((function(e,t){return t.value-e.value})).map((function(e){return e.position}))),r=0;r<n.length;r++)if(p(n[r]))return e[n[r]];return e.center},v=function(e){if(Array.isArray(e)){var u=K(e[0],o),m=V(e[1],a),v=function(e,t){y.warn("".concat(e,":").concat(t," is outside window, falling back to center"))};return u&&v("x",e[0]),m&&v("y",e[1]),[u?o/2-s/2:e[0],m?a/2-l/2:e[1]]}var g=K(i+s/2,o)?K(n+c,o)?(i-n-s)/2+o:(i-n-s)/2+o+c:i-c,b=g>c?g:c,_=V((r+t+l)/2+c,a)?a-l:(r+t-l)/2+c,w=_>c?_:c,E={top:[b+h,t-l-d-2*c],right:[n+2*c+d,w+h],bottom:[b-s/2+2*c+h,r+2*c+d],left:[i-s-2*c-d,w+h],center:[o/2-s/2,a/2-l/2]};return"center"===e||p(e)?E[e]:f(E)}(u);return"translate(".concat(Math.round(v[0]),"px, ").concat(Math.round(v[1]),"px)")})),Z=f.Ay.span($||($=k(["\n  position: absolute;\n  font-family: monospace;\n  background: var(--reactour-accent);\n  background: ",";\n  height: 1.875em;\n  line-height: 2;\n  padding-left: 0.8125em;\n  padding-right: 0.8125em;\n  font-size: 1em;\n  border-radius: 1.625em;\n  color: white;\n  text-align: center;\n  box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.3);\n  top: -0.8125em;\n  left: -0.8125em;\n"])),(function(e){return e.accentColor})),ee=f.Ay.div(Y||(Y=k(["\n  display: flex;\n  margin-top: 24px;\n  align-items: center;\n  justify-content: space-between;\n"]))),te=f.Ay.nav(J||(J=k(["\n  counter-reset: dot;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),ne=f.Ay.button(q||(q=k(["\n  counter-increment: dot;\n  width: 8px;\n  height: 8px;\n  border: ",";\n\n  border-radius: 100%;\n  padding: 0;\n  display: block;\n  margin: 4px;\n  transition: opacity 0.3s, transform 0.3s;\n  cursor: ",";\n  transform: scale(",");\n\n  color: ",";\n  background: ",";\n\n  color: ",";\n  background: ",";\n\n  &:before {\n    content: counter(dot);\n    position: absolute;\n    bottom: calc(100% + 0.25em);\n    left: 50%;\n    opacity: 0;\n    transform: translate(-50%, 1em);\n    transition: 0.3s;\n    display: ",";\n  }\n\n  &:hover {\n    background-color: currentColor;\n\n    &:before {\n      opacity: 0.5;\n      transform: translate(-50%, -2px);\n    }\n  }\n"])),(function(e){return e.current===e.index?"0":"1px solid #caccce"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.current===e.index?1.25:1}),(function(e){return e.current===e.index?"var(--reactour-accent)":"#caccce"}),(function(e){return e.current===e.index?"var(--reactour-accent)":"none"}),(function(e){return e.current===e.index?e.accentColor:"#caccce"}),(function(e){return e.current===e.index?e.accentColor:"none"}),(function(e){return e.showNumber?"block":"none"})),re=f.Ay.div(X||(X=k(["\n  opacity: 0.7;\n  width: 100%;\n  left: 0;\n  top: 0;\n  height: 100%;\n  position: fixed;\n  z-index: 99999;\n  pointer-events: none;\n  color: #000;\n"])));function ie(e){var t,n=e.windowWidth,r=e.windowHeight,o=e.targetWidth,a=e.targetHeight,s=e.targetTop,l=e.targetLeft,u=e.padding,c=(e.rounded,e.disableInteraction),d=e.disableInteractionClassName,h=e.className,m=e.onClick,p=e.direction,f=e.distance,v=e.pathOffset,g=void 0===v?0:v,b=e.lineType,y=e.outlineNum,_=W(o+2*u),w=W(a+2*u),E=W(s-u),C=W(l-u),I=!1;"right"===p?(t=[C+_+2,E+w/2+g,C+_+f+2*u,E+w/2+g],I=!0):"left"===p?(t=[C-2,E+w/2+g,C-f-u,E+w/2+g],I=!0):t="bottom"===p?[C+_/2+g,E+w+2,C+_/2+g,E+w+f+1+u]:[C+_/2+g,E+2,C+_/2+g,E-f+1-u];var k=y?y+1:4;if(!n)return null;var x=4===y;return i.createElement(re,{onClick:m},i.createElement("svg",{width:n,height:r,xmlns:"http://www.w3.org/2000/svg",className:h},i.createElement("defs",null,i.createElement("mask",{id:"mask-main"},i.createElement("rect",{x:0,y:0,width:n,height:r,fill:"white"}),i.createElement("rect",{x:C-k,y:E-k,width:_+2*k,height:w+2*k,rx:"9",ry:"9",fill:"black",stroke:"rgba(255,255,255,0.6)",strokeWidth:"5"}),i.createElement("rect",{x:C,y:E,width:_,height:w,rx:"6",ry:"6",fill:"black",stroke:"white",strokeWidth:"1.5"})),i.createElement("mask",{id:"tour-mask-main"},i.createElement("rect",{x:0,y:0,width:n,height:r,fill:"white"}),i.createElement("rect",{x:C,y:E,width:_,height:w,rx:"6",ry:"6",fill:"black",strokeWidth:"0"})),i.createElement("clipPath",{id:"clip-path"},i.createElement("rect",{x:0,y:0,width:n,height:E-3}),i.createElement("rect",{x:0,y:E-3,width:C-3,height:w+6}),i.createElement("rect",{x:l+o+u+3,y:E-3,width:W(n-o-C-3),height:w+6}),i.createElement("rect",{x:0,y:s+a+u+3,width:n,height:W(r-a-E-6)})),i.createElement("linearGradient",{id:"grad-hline",x1:t[0]+"px",y1:"0%",x2:t[2]+"px",y2:"0%",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0%",style:{stopColor:"rgb(255,255,255,1)"}}),i.createElement("stop",{offset:"100%",style:{stopColor:"rgb(255,255,255,0.2)"}})),i.createElement("linearGradient",{id:"grad-vline",x1:"0%",y1:t[1]+"px",x2:"0%",y2:t[3]+"px",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0%",style:{stopColor:"rgb(255,255,255,1)"}}),i.createElement("stop",{offset:"100%",style:{stopColor:"rgb(255,255,255,0.2)"}}))),x?i.createElement(i.Fragment,null,i.createElement("rect",{x:0,y:0,width:n,height:r,fill:"rgba(0,0,0,0.5)",mask:"url(#tour-mask-main)",pointerEvents:"none"}),i.createElement("rect",{x:C-7.5,y:E-7.5,width:_+15,height:w+15,rx:"13",ry:"13",fill:"transparent",stroke:"#999",strokeWidth:"3",pointerEvents:"none"}),i.createElement("rect",{x:C-3,y:E-3,width:_+6,height:w+6,rx:"8",ry:"8",fill:"transparent",stroke:"white",strokeWidth:"2",pointerEvents:"none"})):i.createElement("rect",{x:0,y:0,width:n,height:r,fill:"rgba(0,0,0,0.5)",mask:"url(#mask-main)",pointerEvents:"none"}),i.createElement("rect",{x:0,y:0,width:n,height:r,fill:"rgba(0,0,0,0.002)",clipPath:"url(#clip-path)",pointerEvents:"auto"}),p&&i.createElement("path",{d:"M".concat(t[0],",").concat(t[1]," L").concat(t[2],",").concat(t[3]," Z"),stroke:"solid"===b?I?"url(#grad-hline)":"url(#grad-vline)":"#fff",strokeWidth:"2",strokeDasharray:"solid"===b?0:"2,4"}),i.createElement("rect",{x:C,y:E,width:_,height:w,pointerEvents:"auto",fill:"transparent",display:c?"block":"none",className:d})))}ie.propTypes={windowWidth:b().number.isRequired,windowHeight:b().number.isRequired,targetWidth:b().number.isRequired,targetHeight:b().number.isRequired,targetTop:b().number.isRequired,targetLeft:b().number.isRequired,padding:b().number.isRequired,rounded:b().number.isRequired,disableInteraction:b().bool.isRequired,disableInteractionClassName:b().string.isRequired};var oe={accessibilityOptions:b().shape({ariaLabelledBy:b().string,closeButtonAriaLabel:b().string,showNavigationScreenReaders:b().bool}),badgeContent:b().func,highlightedMaskClassName:b().string,children:b().oneOfType([b().node,b().element]),className:b().string,closeWithMask:b().bool,inViewThreshold:b().number,isOpen:b().bool.isRequired,lastStepNextButton:b().node,maskClassName:b().string,maskSpace:b().number,nextButton:b().node,onAfterOpen:b().func,onBeforeClose:b().func,onBeforeNext:b().func,onRequestClose:b().func,prevButton:b().node,scrollDuration:b().number,scrollOffset:b().number,showButtons:b().bool,showCloseButton:b().bool,showNavigation:b().bool,showNavigationNumber:b().bool,showNumber:b().bool,startAt:b().number,goToStep:b().number,getCurrentStep:b().func,nextStep:b().func,prevStep:b().func,steps:b().arrayOf(b().shape({selector:b().string,content:b().oneOfType([b().node,b().element,b().func]).isRequired,position:b().oneOfType([b().arrayOf(b().number),b().oneOf(["top","right","bottom","left","center"])]),action:b().func,actionBefore:b().func,style:b().object,stepInteraction:b().bool,navDotAriaLabel:b().string})),update:b().string,updateDelay:b().number,disableInteraction:b().bool,disableDotsNavigation:b().bool,disableKeyboardNavigation:b().oneOfType([b().arrayOf(b().oneOf(["esc","right","left"])),b().bool]),rounded:b().number,accentColor:b().string},ae={accessibilityOptions:{closeButtonAriaLabel:"Close",showNavigationScreenReaders:!0},showNavigation:!0,showNavigationNumber:!0,showButtons:!0,showCloseButton:!0,showNumber:!0,startAt:0,scrollDuration:1,maskSpace:10,updateDelay:1,disableInteraction:!1,rounded:0,accentColor:"#007aff",closeWithMask:!0},se={base:"reactour__mask",isOpen:"reactour__mask--is-open",disableInteraction:"reactour__mask--disable-interaction"},le={base:"reactour__helper",isOpen:"reactour__helper--is-open"},ue={base:"reactour__dot",active:"reactour__dot--is-active"},ce=["type"];function de(e){var t=e.children,n=e.isOpen,r=e.startAt,o=e.steps,s=e.scrollDuration,u=e.inViewThreshold,d=e.scrollOffset,f=e.disableInteraction,v=e.disableKeyboardNavigation,g=e.className,b=e.closeWithMask,y=e.onRequestClose,_=e.onAfterOpen,I=e.onBeforeClose,k=e.onBeforeNext,R=e.onBeforePre,T=e.CustomHelper,O=e.showNumber,N=e.accentColor,A=e.highlightedMaskClassName,B=e.maskClassName,P=e.showButtons,D=e.showNavigation,L=e.prevButton,z=e.showNavigationNumber,K=e.disableDotsNavigation,V=e.lastStepNextButton,W=e.nextButton,$=e.rounded,Y=e.maskSpace,J=e.showCloseButton,q=e.accessibilityOptions,X=e.distance,re=e.lineType,oe=e.outlineNum,ce=e.closeButton,de=e.buttonHtmlTag,pe=x((0,i.useState)(0),2),fe=pe[0],ve=pe[1],ge=x((0,i.useState)(0),2),be=ge[0],ye=ge[1],_e=x((0,i.useState)(!1),2),we=_e[0],Ee=_e[1],Ce=x((0,i.useState)(!1),2),Ie=Ce[0],ke=Ce[1],xe=x((0,i.useReducer)(me,he),2),Re=xe[0],Te=xe[1],Se=(0,i.useRef)(null),Oe=(0,i.useRef)(null),Ne=w(w({},ae.accessibilityOptions),q);function Ae(e){var t,n,r;(e.stopPropagation(),!0!==v)&&(v&&(t=v.includes("esc"),n=v.includes("right"),r=v.includes("left")),27!==e.keyCode||t||(e.preventDefault(),Be()),39!==e.keyCode||n||(e.preventDefault(),Pe()),37!==e.keyCode||r||(e.preventDefault(),De()))}function Be(e){I&&"function"===typeof I&&I(Se.current),y(e)}function Pe(){k&&"function"===typeof k&&k(fe),ve((function(e){return e<o.length-1?e+1:e}))}function De(){R&&"function"===typeof R&&R(fe),ve((function(e){return e>0?e-1:e}))}function Me(e){ve(e)}function Le(e){var t,n,r,i,a,h,m,p;return E().async((function(f){for(;;)switch(f.prev=f.next){case 0:if(t=o[e]||o[fe],n=F(),r=n.w,i=n.h,!t.actionBefore||"function"!==typeof t.actionBefore){f.next=5;break}return f.next=5,E().awrap(t.actionBefore());case 5:if(a=t.selector?document.querySelector(t.selector):null,t.observe&&(Oe.current=document.querySelector(t.observe)),a?H(w(w({},h=U(a)),{},{w:r,h:i,threshold:u}))?je(h,t.position):(m=c()(a),p=d||(h.height>i?-25:-i/2+h.height/2),l().to(a,{context:G(m)?window:m,duration:s,offset:p,callback:function(e){je(U(e),t.position)}})):Te({type:"NO_DOM_NODE",helperPosition:t.position,w:r,h:i,inDOM:!1}),!t.action||"function"!==typeof t.action){f.next=11;break}return f.next=11,E().awrap(t.action(a));case 11:case"end":return f.stop()}}),null,null,null,Promise)}function je(e,t){if(Se.current){var n=F(),r=n.w,i=n.h,o=U(Se.current),a=o.width,s=o.height;Te(w(w({type:"HAS_DOM_NODE"},e),{},{helperWidth:a,helperHeight:s,helperPosition:t,w:r,h:i,inDOM:!0}))}}(0,m.A)(Oe,(function(e,t){n?(Le(),e.forEach((function(e){"childList"===e.type&&e.addedNodes.length>0?setTimeout((function(){return je(U(e.addedNodes[0]))}),500):"childList"===e.type&&e.removedNodes.length}))):t.disconnect()})),(0,i.useEffect)((function(){var e=h()((function(){ke((function(e){return!e}))}),100);return n&&(window.addEventListener("keydown",Ae,!1),window.addEventListener("resize",e,!1),we||(Ee(!0),je({width:-1*Y,height:-1*Y,top:-1*$,left:-1*$},"center"),ve(r),Le(r)),Se.current&&(Se.current.focus(),_&&"function"===typeof _&&_(Se.current))),function(){window.removeEventListener("keydown",Ae),window.removeEventListener("resize",e)}}),[n]),(0,i.useEffect)((function(){we&&Le()}),[fe,Ie]),(0,i.useEffect)((function(){ye(o[fe]&&o[fe].pathOffset||0)}),[o,fe]);var Ue=o[fe]&&("function"===typeof o[fe].content?o[fe].content({close:Be,goTo:Me,inDOM:Re.inDOM,step:fe+1}):o[fe].content);return n&&o[fe]?i.createElement(S,null,i.createElement(ie,{distance:X,pathOffset:be,lineType:re,onClick:function(e){b&&-1===e.target.className.baseVal.split(" ").indexOf(se.disableInteraction)&&Be(e)},windowWidth:Re.w,windowHeight:Re.h,targetWidth:Re.width,targetHeight:Re.height,targetTop:Re.top,targetLeft:Re.left,padding:Y,rounded:$,className:B,direction:o[fe].position,outlineNum:oe,disableInteraction:!1===o[fe].stepInteraction||f?!o[fe].stepInteraction:f,disableInteractionClassName:a()(se.disableInteraction,A)}),i.createElement(p.Ay,null,i.createElement(Q,{distance:X,ref:Se,windowWidth:Re.w,windowHeight:Re.h,targetWidth:Re.width,targetHeight:Re.height,targetTop:Re.top,targetLeft:Re.left,targetRight:Re.right,targetBottom:Re.bottom,helperWidth:Re.helperWidth,helperHeight:Re.helperHeight,helperPosition:Re.helperPosition,padding:Y,offset:o[fe].offset||0,tabIndex:-1,current:fe,style:o[fe].style?o[fe].style:{},rounded:$,accentColor:N,defaultStyles:!T,className:a()(le.base,g,C({},le.isOpen,n)),role:"dialog","aria-labelledby":Ne.ariaLabelledBy},T?i.createElement(T,{current:fe,totalSteps:o.length,gotoStep:Me,close:Be,content:Ue},t):i.createElement(i.Fragment,null,t,Ue,O&&i.createElement(Z,{"data-tour-elem":"badge"},"function"===typeof badgeContent?badgeContent(fe+1,o.length):fe+1),(P||D)&&i.createElement(ee,{"data-tour-elem":"controls",style:{display:"flex",justifyContent:D?"":"flex-end"}},D&&1===o.length?i.createElement("div",null):D&&i.createElement(te,{"data-tour-elem":"navigation","aria-hidden":!Ne.showNavigationScreenReaders},o.map((function(e,t){return i.createElement(ne,{key:"".concat(e.selector?e.selector:"undef","_").concat(t),onClick:function(){return Me(t)},current:fe,index:t,disabled:fe===t||K,showNumber:z,"data-tour-elem":"dot",className:a()(ue.base,C({},ue.active,fe===t)),"aria-label":e.navDotAriaLabel})}))),i.createElement("div",{style:{display:"flex",justifyContent:fe===o.length-1?"flex-end":""}},J&&(V&&fe===o.length-1?i.createElement("div",null):i.createElement(j,{htmlTag:de,onClick:Be,ariaLabel:Ne.closeButtonAriaLabel,className:"reactour__close",closeButton:ce})),L&&0!==fe?i.createElement("div",{onClick:De},L):null,P&&i.createElement(M,{htmlTag:de,onClick:fe===o.length-1?V?Be:function(){}:Pe,disabled:!V&&fe===o.length-1,inverted:!0,label:V&&fe===o.length-1?V:W||null}))))))):null}var he={top:0,right:0,bottom:0,left:0,width:0,height:0,w:0,h:0};function me(e,t){switch(t.type){case"HAS_DOM_NODE":t.type;var n=I(t,ce);return w(w({},e),n);case"NO_DOM_NODE":return w(w({},e),{},{top:e.h+9,right:e.w/2+9,bottom:e.h/2+7,left:t.w/2-e.helperWidth?e.helperWidth/2:0,width:0,height:0,w:t.w,h:t.h,helperPosition:"center"});default:return e}}de.propTypes=oe,de.defaultProps=ae;var pe=(0,i.memo)(de);t.Ay=pe},59584:function(e,t,n){n.d(t,{Ay:function(){return Yr}});var r=n(22563),i=n(41531),o=n(84120),a=n(64802),s=n(31337),l=n.n(s),u=n(81946),c=JSON.parse('{"rE":"0.3.3-beta.25"}'),d=n(64399);var h=function(){function e(e,t,n){if(t)this.customReport=t;else if(e){var r=e.tea,i=e.cdnReportName,o=e.teaVersion;this.tea=r,this.cdnReportName=i||"collectEvent",this.teaVersion=o||"5.x"}this.devlog=n}return e.prototype.report=function(e,t){var n,r,i,o,a,s,l,u,c=e.eventName,h=e.eventParams;(null==(n=null==window?void 0:window.__UNIVERSAL_TRACKER_DEBUG__)?void 0:n.getVerifyEvents)&&(null==(r=null==window?void 0:window.__UNIVERSAL_TRACKER_DEBUG__)||r.getVerifyEvents({eventName:c,eventParams:h}));try{if(null==(o=null==(i=Ze)?void 0:i.reportCallback)||o.call(i),this.customReport)this.customReport(c,h,t);else{if(this.tea){var m=function(e){return Number(e)>=5}(null==(a=this.teaVersion)?void 0:a[0])||(null==(s=this.tea)?void 0:s.event);return this.devlog&&d.log("[BTM logger] tea",c,h.btm,h.position,h),void(m?t?null==(l=this.tea)||l.beconEvent(c,h):null==(u=this.tea)||u.event(c,h):t?this.tea("beconEvent",c,h):this.tea(c,h))}this.cdnReportName?t?window[""+this.cdnReportName]("beconEvent",c,h):window[""+this.cdnReportName](c,h):d.error("btm sdk report error -> \u65e0tea\u5b9e\u4f8b\u4e14\u65e0cdn name\uff0c\u4e0a\u62a5\u5931\u8d25")}}catch(p){d.error("btm sdk report error -> ",p)}},e}(),m={once:!0,percent:.5,throttleTime:0,isEnableOverlap:!1,closeClick:!0,closeExpose:!1},p=n(17240),f=n(47324),v=n.n(f),g=n(64399),b=function(e){return e?l()(e,!0).query:{}};function y(e,t){if(void 0===t&&(t=[]),!e)return 0===t.length||t.some((function(e){return/^c(\d+)$/.test(e)}))||t.push("c0"),{btmArray:t,dataBtmIdParent:""};var n=e.getAttribute("data-btm-id");if(n)return{btmArray:t,dataBtmIdParent:n};var r=e.getAttribute("data-btm");return r&&(/^c(\d+)$/.test(r)&&0===t.length&&t.push("d0"),/^b(\d+)$/.test(r)||t.push(r)),y(null==e?void 0:e.parentElement,t)}function _(e){if(!e||!e.parentElement)return{};var t=e.parentElement.getAttribute("data-btm-config");if(t)try{var n=JSON.parse(t);if(n.params&&Object.keys(n.params).length>0)return n.params}catch(r){g.error("Error parsing data-btm-config as JSON:",r)}return _(e.parentElement)}function w(e){var t=e.split("."),n=t[0]+"."+t[1]+".c0.d0";return function(e,t){for(var n=null===e?0:e.length,r=-1;++r<n;)if(!t(e[r]))return!1;return!0}(t,(function(e){return/^[0-9a-zA-Z_!~*()+$%-]+$/.test(e)}))?t.join("."):n}var E=["svg","path","g","image","text","line","rect","polygon","circle","ellipse"],C=["html","body"].concat(E),I=function(e){var t=e.tagName.toLowerCase();return-1!==E.indexOf(t)?"*[name()='"+t+"']":t};function k(e,t){for(var n=0;e;)e.nodeName.toLowerCase()===t&&(n+=1),e=e.previousElementSibling;return n}function x(e,t){if(void 0===t&&(t=!1),!e)return null;if(!(n=e)||"object"!==typeof n||1!==n.nodeType||"object"!==typeof n.style||"object"!==typeof n.ownerDocument)return null;var n,r=e,i=!1,o=-1!==E.indexOf(r.tagName.toLowerCase()),a=[];try{for(;r&&r.nodeType===Node.ELEMENT_NODE;){var s=r.nodeName.toLowerCase(),l=k(r,s),u="";!i&&r.hasAttribute("id")&&(u='[@id="'+r.id+'"]',i=!0);var c="";if(c=u?"":-1===C.indexOf(s)?"["+l+"]":1===l?"":"["+l+"]",a.push(""+I(r)+c+u),u&&!o&&!t){a.push("");break}r=r.parentNode}}catch(d){}return"/"+a.reverse().join("/")}function R(e){if("string"===typeof e)return e;var t="";try{t=JSON.stringify(e)}catch(n){}return t}function T(e){var t=e.split(".");return t[t.length-1]}var S=n(64399);function O(e){if(0===e.getBoundingClientRect().width||0===e.getBoundingClientRect().height)return{visibility:!1,observeTargets:[e]};for(var t=e,n=[],r="hidden"===N(t,"visibility");t&&1===t.nodeType;){if("0"===N(t,"opacity"))return{visibility:!1,observeTargets:[t]};r&&"hidden"===N(t,"visibility")?n.push(t):r=!1,t=t.parentNode}return 0!==n.length?{visibility:!1,observeTargets:n}:{visibility:!0,observeTargets:[]}}function N(e,t){var n;return null==(n=document.defaultView)?void 0:n.getComputedStyle(e,null)[t]}function A(e,t){for(var n,r=function(e){var t=(0,o.A)(e,2),n=t[0],r=t[1];return document.elementFromPoint(n,r)},a=function(e){var t=e.getBoundingClientRect(),n=Math.floor(t.left+t.width/2),r=Math.floor(t.top+t.height/2),i=[[n,r],[t.left,t.top],[t.right,t.top],[t.left,t.bottom],[t.right,t.bottom]];return i}(e),s=[],l=(0,i.A)(a);!(n=l()).done;){var u=n.value,c=r(u);if(c&&!e.contains(c))B(e,c,u).forEach((function(e){s.includes(e)||s.push(e)}))}return{intersectionRatio:P(e,s,t),overlapElements:s}}function B(e,t,n){var r=[],i=(0,o.A)(n,2),a=i[0],s=i[1],l=document.elementsFromPoint(a,s);return l.includes(e)&&(r=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(e.contains(i))break;i.parentNode!==t[r+1]&&O(i).visibility&&!n.includes(i)&&"HTML"!==i.tagName&&"BODY"!==i.tagName&&n.push(i)}return n}(e,l)),r}function P(e,t,n){if("undefined"===typeof window)return S.warn("\u4e0d\u652f\u6301\u975e\u6d4f\u89c8\u5668\u73af\u5883"),0;if(0===t.length&&n)return-1;var r=e.getBoundingClientRect(),i=(null==window?void 0:window.innerWidth)||document.documentElement.clientWidth,o=(null==window?void 0:window.innerHeight)||document.documentElement.clientHeight,a=r.width*r.height,s=[r.left,r.right,0,i],l=[r.top,r.bottom,0,o],u=function(e){var t=e.parentElement,n=(null==window?void 0:window.innerWidth)||document.documentElement.clientWidth,r=(null==window?void 0:window.innerHeight)||document.documentElement.clientHeight,i={top:0,left:0,right:n,bottom:r};for(;t&&"HTML"!==t.tagName&&"BODY"!==t.tagName;){if("hidden"===N(t,"overflow")||"scroll"===N(t,"overflow")||"auto"===N(t,"overflow")){var o=t.getBoundingClientRect(),a=o.top,s=o.bottom,l=o.left,u=o.right;i.top=Math.max(i.top,a),i.left=Math.max(i.left,l),i.right=Math.min(i.right,u),i.bottom=Math.min(i.bottom,s)}t=t.parentElement}return i}(e);u&&(s.push(u.left,u.right),l.push(u.top,u.bottom)),t.forEach((function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.bottom,o=t.right;s.push(r,o),l.push(n,i)}));for(var c=D(s),d=D(l),h=0,m=1;m<c.length;m++)for(var p=1;p<d.length;p++){var f=(c[m]-c[m-1])*(d[p]-d[p-1]),v=[c[m-1],c[m],d[p-1],d[p]];M(v)&&L(e,v)&&U(u,v)&&!j(t,v)&&(h+=f)}var g=h/a;return g<1e-4?0:g}function D(e){return Array.from(new Set(e.sort((function(e,t){return e-t}))))}function M(e){if("undefined"!==typeof window){var t=(0,o.A)(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=(null==window?void 0:window.innerWidth)||document.documentElement.clientWidth,l=(null==window?void 0:window.innerHeight)||document.documentElement.clientHeight;return n>=0&&r<=s&&i>=0&&a<=l}S.warn("\u4e0d\u652f\u6301\u975e\u6d4f\u89c8\u5668\u73af\u5883")}function L(e,t){var n=(0,o.A)(t,4),r=n[0],i=n[1],a=n[2],s=n[3],l=e.getBoundingClientRect(),u=l.top,c=l.left,d=l.bottom,h=l.right;return r>=c&&i<=h&&a>=u&&s<=d}function j(e,t){for(var n,r=(0,o.A)(t,4),a=r[0],s=r[1],l=r[2],u=r[3],c=(0,i.A)(e);!(n=c()).done;){var d=n.value.getBoundingClientRect(),h=d.top,m=d.left,p=d.bottom,f=d.right;if(a>=m&&s<=f&&l>=h&&u<=p)return!0}return!1}function U(e,t){var n=(0,o.A)(t,4),r=n[0],i=n[1],a=n[2],s=n[3];if(!e)return!0;var l=e.top,u=e.left,c=e.bottom,d=e.right;return r>=u&&i<=d&&a>=l&&s<=c}var H=1,G=function(e){return e&&e.nodeType===H},z=function(e){return/^(?:.*\.)?c0(?:\..*)?$/.test(e)};function K(e,t){if(!e||e===document.documentElement)return"{}";var n=e.getAttribute(t);return null!==n?n:K(e.parentNode,t)}var V=function(e){return e.PageShow="btm_page_show",e.ModuleShow="btm_block_expose",e.ModuleDisappear="btm_block_disappear",e.Click="btm_block_click",e.BizStart="biz_start",e.BizFail="biz_fail",e.BizSucceed="biz_succeed",e}(V||{}),W=n(64399),F="$btm_ts_pre_xafgobhjy",$="$btm_ab_pre_mgujlufnf",Y=function(e,t){return void 0===t&&(t=!0),!!/^[a-d][0-9]{3,9}$/.test(e)||!t&&/^[a-d]0$/.test(e)},J=function(e,t,n){void 0===n&&(n=!0);try{return String(e).split(".").map((function(e){return e.toLowerCase()})).find((function(e){return e.startsWith(t)&&Y(e,n)}))}catch(r){W.error(r)}},q={onBizFail:function(){},onBizSucceed:function(){}},X=function(e,t){var n=e.split("."),r=n[n.length-1];return Y(r,!1)?e===t:(e.includes("${index}")?new RegExp(e.replace("${index}","(\\d+)")):new RegExp(e)).test(t)};var Q=n(53202);function Z(e,t,n){var r;if(void 0===t&&(t=0),void 0===n&&(n=2),e.nodeType===Node.TEXT_NODE){var o=null==(r=e.textContent)?void 0:r.trim();return o&&/^\d+$/.test(o)?null:e}if(t>=n)return null;for(var a,s=(0,i.A)(e.childNodes);!(a=s()).done;){var l=Z(a.value,t+1,n);if(l)return l}return null}function ee(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=2),e.tagName&&"svg"===e.tagName.toLowerCase())return e;if(t>=n)return null;for(var r,o=(0,i.A)(e.childNodes);!(r=o()).done;){var a=ee(r.value,t+1,n);if(a)return a}return null}function te(e,t){try{return e.matches(t)}catch(n){return!1}}function ne(e,t,n){if(void 0===n&&(n=0),!t||n>2)return null;for(var r,o=(0,i.A)(t);!(r=o()).done;){var a=r.value;if(te(e,a))return{matchedSelector:a,finalTarget:e}}return e.parentElement?ne(e.parentElement,t,n+1):null}function re(e){if(e){if("svg"===e.tagName.toLowerCase()||"path"===e.tagName.toLowerCase()){var t=ie(e.className.baseVal);if(t)return t}return e.className.split(" ").filter((function(e){return!e.includes("arco")&&!e.includes("m4b")})).join(" ")}}function ie(e){if(e){var t=e.match(/\b\w+-icon-\w+\b/g);return t?t[0]:void 0}}var oe=function(e,t){var n,r,i,o=Z(e);if(o)r=null!=(n=o.nodeValue)?n:"";else{var a=ee(e);a&&(i=ie(a.className.baseVal))}return{text:r,svgClassName:i,finalTarget:t}},ae=["m4b_button","m4b_button_toggle_button","m4b_dropdown_button","m4b_menu","m4b_menu_submenu","m4b_menu_item","m4b_dropdown_menu","m4b_dropdown_menu_item","m4b_dropdown_submenu","m4b_link","m4b_anchor_link","m4b_select","m4b_select_option","m4b_radio_group","m4b_radio","m4b_checkbox","m4b_checkbox_group","m4b_breadcrumb_item","m4b_switch","m4b_tabs"];function se(e){try{if(!e||!(e instanceof Element))return;return(0,Q.n)(e)}catch(t){return}}function le(e){for(var t=e;t;){var n=t.getAttribute("data-uid");if(n)return n;t=t.parentElement}return null}var ue=n(64399),ce=Object.defineProperty,de=Object.defineProperties,he=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,ve=function(e,t,n){return t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ge=function(e,t){for(var n in t||(t={}))pe.call(t,n)&&ve(e,n,t[n]);if(me)for(var r,o=(0,i.A)(me(t));!(r=o()).done;){n=r.value;fe.call(t,n)&&ve(e,n,t[n])}return e},be=function(e,t){return de(e,he(t))},ye=function(e,t){var n={};for(var r in e)pe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&me)for(var o,a=(0,i.A)(me(e));!(o=a()).done;){r=o.value;t.indexOf(r)<0&&fe.call(e,r)&&(n[r]=e[r])}return n},_e=function(){function e(){this.observePool=new Map,this.exposeElements=[],this.throttlePool=new Map,this.throttleEndPool=new Map,this.blockConfig={}}var t=e.prototype;return t.init=function(e,t,n){this.BtmCore=e,this.blockConfig=t,this.remoteConfig=n},t.getObservedElement=function(e,t){var n=this.observePool.get(t);if(n){var r=x(e),i=n.find((function(e){return e.xpath===r}));return i||n[0]}},t.checkExposureStatus=function(e,t,n){var r=this.BtmCore.getFullBtmInfo(e).btm;if(z(r))return!1;var i=this.getObservedElement(e,r);if(i){var o=i.percent,a=i.once,s=i.isReported;if(t<o||n&&0===t)return!1;if(a&&s)return!1}return!0},t.checkIsExposed=function(e){var t,n,r,i=this.BtmCore.getFullBtmInfo(e).btm;if(z(i))return!1;var o,a=this.getObservedElement(e,i),s=JSON.parse((null==e?void 0:e.getAttribute(Ne))||"{}");if("undefined"!==typeof s.reportDuration)o=s.reportDuration;else{var l=J(i,"c")||"c0";o=null==(r=null==(n=null==(t=this.remoteConfig)?void 0:t.moduleConfig)?void 0:n.enableModuleDuration)?void 0:r.includes(l)}if(o&&a){var u=a.isReported,c=a.once,d=a.reportTimeStamp,h=a.isEndReported;if(u&&d&&!h)return!0;if(u&&h)return!c}return!1},t.expose=function(e){var t=this;try{var n=this.BtmCore.getFullBtmInfo(e).btm,r=T(n);if(!z(n)&&"d0"===r){var i=this.getObservedElement(e,n);if(!i)return!1;var o=i.once,a=i.useBeacon,s=(new Date).getTime();i.isReported=!0,i.reportTimeStamp=s,i.isEndReported=!1,this.exposeElements.push(e);var l=this.throttlePool.get(n);if(l||(l=(0,p.A)((function(e){var n,r,i,o=e,s=(o.param,ye(o,["param"]));delete s.xpath,null==(i=t.BtmCore)||i.btmReport({eventName:V.ModuleShow,eventParams:be(ge(ge({},null==(n=t.BtmCore)?void 0:n.btmInfo),s),{btm_block_params:ge(ge({},null==(r=t.BtmCore)?void 0:r.BCMContext),null==e?void 0:e.params)}),time:(new Date).getTime(),useBeacon:a})}),(null==i?void 0:i.throttleTime)||0),this.throttlePool.set(n,l)),l(i),o)return!1}return!0}catch(u){return ue.error("BTM WEB SDK\uff1a\u66dd\u5149\u4e0a\u62a5\u5931\u8d25\u3002",u),!0}},t.exposeDuration=function(e){var t=this;try{var n=this.BtmCore.getFullBtmInfo(e).btm;if(!z(n)){var r=this.getObservedElement(e,n);if(!r)return!1;var i=r.once,o=r.useBeacon,a=this.throttleEndPool.get(n);if(a||(a=(0,p.A)((function(n){var i,a,s,l=n,u=(l.param,l.reportTimeStamp),c=ye(l,["param","reportTimeStamp"]);if(delete c.xpath,u){var d=(new Date).getTime();null==(s=t.BtmCore)||s.btmReport({eventName:V.ModuleDisappear,eventParams:be(ge(ge({},null==(i=t.BtmCore)?void 0:i.btmInfo),c),{btm_block_params:ge(ge({},null==(a=t.BtmCore)?void 0:a.BCMContext),null==n?void 0:n.params),duration:d-u}),time:d,useBeacon:o}),r.isEndReported=!0,t.exposeElements=t.exposeElements.filter((function(t){return t!==e}))}}),(null==r?void 0:r.throttleTime)||0),this.throttleEndPool.set(n,a)),a(r),i)return!1}return!0}catch(s){return ue.error("BTM WEB SDK\uff1a\u66dd\u5149\u4e0a\u62a5\u5931\u8d25\u3002",s),!0}},t.addObserveNode=function(e){var t,n,r,i,o,a;try{var s=this.BtmCore.getFullBtmInfo(e).btm;if(!z(s)){var l=JSON.parse((null==e?void 0:e.getAttribute(Ne))||"{}"),u=l.once,c=l.percent,d=l.throttleTime,h=l.params,m=l.useBeacon,p=x(e)||"null",f=_(e),v=this.observePool.get(s);if(v){var g={btm:s,once:u||(null==(i=this.blockConfig)?void 0:i.once),percent:c||(null==(o=this.blockConfig)?void 0:o.percent),throttleTime:d||(null==(a=this.blockConfig)?void 0:a.throttleTime),params:ge(ge({},f),h),isReported:!1,isEndReported:!1,xpath:p,useBeacon:m},b=!1;v.forEach((function(e,t,n){e.xpath===g.xpath&&(n[t]=g,b=!0)})),b||v.push(g),this.observePool.set(s,v)}else this.observePool.set(s,[{btm:s,once:u||(null==(t=this.blockConfig)?void 0:t.once),percent:c||(null==(n=this.blockConfig)?void 0:n.percent),throttleTime:d||(null==(r=this.blockConfig)?void 0:r.throttleTime),params:ge(ge({},f),h),isReported:!1,isEndReported:!1,xpath:p,useBeacon:m}]);return!0}return!1}catch(y){return ue.error("BTM WEB SDK\uff1a\u70b9\u51fb\u4e0a\u62a5\u5931\u8d25\u3002",y),!1}},t.checkAndHandleClickStatus=function(e){var t,n,r,o;this.reportFullTrackEvent(e);try{var a,s=this.BtmCore.getFullBtmInfo(e).btm,l=JSON.parse(K(e,Ne)||"{}");if("undefined"!==typeof l.closeClick)a=!l.closeClick;else a=function(e,t){if(!t)return!0;if(t.includes(e))return!1;for(var n,r=(0,i.A)(t);!(n=r()).done;){var o=n.value.replace("${index}","\\d+");if(new RegExp("^"+o+"$").test(e))return!1}return!0}(T(s)||"d0",null==(n=null==(t=this.remoteConfig)?void 0:t.locationConfig)?void 0:n.disableBlockClick);if(!function(e){return/^(?:.*\.)?d0$/.test(e)}(s)&&a){var u=be(ge({},null==(r=this.BtmCore)?void 0:r.btmInfo),{btm:s}),c=l.params,d=l.useBeacon,h=u,m=(h.param,ye(h,["param"])),p=_(e);null==(o=this.BtmCore)||o.btmReport({eventName:V.Click,eventParams:be(ge({},m),{btm_block_params:ge(ge(ge({},this.BtmCore.BCMContext),p),c)}),time:(new Date).getTime(),useBeacon:d})}}catch(f){ue.error("BTM WEB SDK\uff1a\u70b9\u51fb\u4e0a\u62a5\u5931\u8d25\u3002",f)}},t.reportFullTrackEvent=function(e){var t,n,r,i,a,s,l,u,c,d,h,m,p,f,v=null==(t=this.BtmCore)?void 0:t.getBId();if(v&&(null==(r=null==(n=this.remoteConfig)?void 0:n.pageConfig)?void 0:r.enableFullTracking)&&(null==(a=null==(i=this.remoteConfig)?void 0:i.pageConfig)?void 0:a.enableFullTracking.includes(v)))try{var g,b,y,w,E=null==(u=null==(l=null==(s=this.remoteConfig)?void 0:s.pageConfig)?void 0:l.positions)?void 0:u.find((function(e){return e.btmCode===v})),C=null==E?void 0:E.selectors;if(C&&C.length>0){var I=ne(e,C);if(I){y=I.matchedSelector,b=I.finalTarget;var k=Z(e);k&&(w=null!=(c=k.nodeValue)?c:"")}}if(!y||!b)if("svg"===e.tagName.toLowerCase()||"path"===e.tagName.toLowerCase()){var R=function(e){var t,n,r,i,o=e;if("path"===e.tagName.toLowerCase()){var a=e.closest("svg");a&&(o=a)}var s=ie(o.className.baseVal),l=o.closest("[data-tid]"),u=null==l?void 0:l.getAttribute("data-tid");if(l&&u&&ae.includes(u)){r=l;var c=Z(l);i=null!=(t=null==c?void 0:c.nodeValue)?t:l.textContent}else{var d=e.closest("[data-uid]"),h=null==d?void 0:d.getAttribute("data-uid");if(d&&h){r=d;var m=Z(d);i=null!=(n=null==m?void 0:m.nodeValue)?n:d.textContent}else r=o}return{svgClassName:s,finalTarget:r,text:i}}(e),T=R.svgClassName,S=R.finalTarget,O=R.text;b=S,w=O,g=T}else if("a"===e.tagName.toLowerCase()){var N=function(e){return{finalTarget:e,text:e.innerText}}(e),A=N.finalTarget,B=N.text;b=A,w=B}else{var P=function(e){var t=e.closest("[data-tid]"),n=null==t?void 0:t.getAttribute("data-tid");if(t&&n&&ae.includes(n))return oe(e,t);var r=e.closest("[data-uid]"),i=null==r?void 0:r.getAttribute("data-uid");return r&&i?oe(e,r):{finalTarget:void 0,svgClassName:void 0,text:void 0}}(e),D=P.svgClassName,M=P.finalTarget,L=P.text;b=M,w=L,g=D}if((g||w||y)&&b){var j=JSON.parse(K(e,Ne)||"{}"),U=function(e){var t=e.split(".");return 4===t.length?(t[t.length-1]="btm_auto_d",t.join(".")):e}(this.BtmCore.getFullBtmInfo(e).btm),H=(null==(d=this.BtmCore)?void 0:d.getAId())+".b0.c0.btm_auto_d",G=be(ge({},null==(h=this.BtmCore)?void 0:h.btmInfo),{btm:H}),z=j.params,W=G,F=(W.param,ye(W,["param"])),$=_(e),Y=function(e,t){if(t&&e){var n=t();if(n[e]){var r=Array.from(n[e]),i=r[r.length-1].split("@"),a=(0,o.A)(i,2);return{lang:a[0],key:a[1]}}}}(w,null==(m=this.BtmCore)?void 0:m.getReverseIndex),J=be(ge({},F),{btm_block_params:ge(ge(ge({},null==(p=this.BtmCore)?void 0:p.BCMContext),$),z),position:{auto_btm:U,tag:null==b?void 0:b.tagName,text:w,"data-uid":le(e),"data-tid":null==b?void 0:b.getAttribute("data-tid"),id:null==b?void 0:b.id,classname:g||re(b),selector:y||se(b),starling_key:null==Y?void 0:Y.key,starling_lang:null==Y?void 0:Y.lang,xpath:x(b)}});null==(f=this.BtmCore)||f.btmReport({eventName:V.Click,eventParams:J,time:(new Date).getTime()})}}catch(q){ue.warn(q)}},e}(),we=function(){function e(){this.startTime=Date.now()}var t=e.prototype;return t.resetStartTime=function(){this.startTime=Date.now()},t.getStartTime=function(){return this.startTime},t.getDuration=function(){return Date.now()-this.startTime},t.trackVisibilityChange=function(e){var t=this,n=function(){if("hidden"===document.visibilityState){var n=t.getDuration();return e(n)}return"visible"===document.visibilityState&&t.resetStartTime(),null};return document.addEventListener("visibilitychange",n),function(){return document.removeEventListener("visibilitychange",n),null}},t.trackBeforeUnload=function(e){var t=this,n=function(){if("visible"===document.visibilityState){var n=t.getDuration();return e(n)}return null};return window.addEventListener("beforeunload",n),function(){return window.removeEventListener("beforeunload",n),null}},t.trackPageHideAndShow=function(e){var t=this,n=function(){var n=t.getDuration();return e(n)},r=function(){t.resetStartTime()};return window.addEventListener("pagehide",n),window.addEventListener("pageshow",r),function(){window.removeEventListener("pagehide",n),window.removeEventListener("pageshow",r)}},t.addListener=function(e){var t=function(){};/^(?=.*Safari)(?!.*Chrome)/.test(navigator.userAgent)&&(t=this.trackBeforeUnload(e));var n=this.trackVisibilityChange(e);return function(){t(),n()}},e}(),Ee=n(64399),Ce=Object.defineProperty,Ie=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,Re=function(e,t,n){return t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Te=function(e,t){for(var n in t||(t={}))ke.call(t,n)&&Re(e,n,t[n]);if(Ie)for(var r,o=(0,i.A)(Ie(t));!(r=o()).done;){n=r.value;xe.call(t,n)&&Re(e,n,t[n])}return e},Se="data-btm-id",Oe="data-btm",Ne="data-btm-config",Ae=function(){function e(e,t,n){var r=this;if(this.mutationObserver=null,this.scrollHandler=(0,p.A)(this.scrollObserver.bind(this),300),this.visibleTransitionPool=new Map,this.overlapTransitionPool=new Map,this.modelNodes=new _e,this.containers=new Set,this.hasOpenObserver=!1,this.intersectionObserver=null,this.handleClickEvent=function(e){for(var t,n,o=(0,i.A)(r.containers);!(n=o()).done;){if(n.value.contains(e.target)){null==(t=r.modelNodes)||t.checkAndHandleClickStatus(e.target);break}}},this.handleIntersectionObserve=function(e){e.forEach((function(e){var t=e||{},n=t.isIntersecting,i=t.target,o=t.intersectionRatio;n?r.modelNodes.checkExposureStatus(i,o)&&r.checkAndHandleVisibility(i)&&r.checkAndHandleOverlap(i,!0):r.modelNodes.checkIsExposed(i)&&r.reportExposureDuraiton(i)}))},this.checkAndHandleVisibility=function(e){var t=O(e),n=t.visibility,i=t.observeTargets;return!!n||(i.forEach((function(t){var n,i=r.visibleTransitionPool.get(t);i?i.add(e):(null==(n=r.mutationObserver)||n.observe(t,{attributes:!0}),r.visibleTransitionPool.set(t,(new Set).add(e)))})),!1)},this.checkAndHandleOverlap=function(e,t){var n;void 0===t&&(t=!1);var i=!1;if(null==(n=r.blockConfig)?void 0:n.isEnableOverlap){var o=A(e,t),a=o.intersectionRatio,s=o.overlapElements;r.modelNodes.checkExposureStatus(e,a,!0)||-1===a?i=!0:null==s||s.forEach((function(t){var n,i=t.getBoundingClientRect(),o=i.top,a=i.left,s=i.bottom,l=i.right,u=r.overlapTransitionPool.get(t);if(u)u.observeNodes.add(e),u.oldValue={top:o,left:a,bottom:s,right:l};else{null==(n=r.mutationObserver)||n.observe(t,{attributes:!0});var c={observeNodes:(new Set).add(e),oldValue:{top:o,left:a,bottom:s,right:l}};r.overlapTransitionPool.set(t,c)}}))}else i=!0;i&&r.reportExposure(e)},this.observeNode=function(e){var t,n;r.modelNodes.addObserveNode(e)&&(null==(t=r.intersectionObserver)||t.unobserve(e),null==(n=r.intersectionObserver)||n.observe(e))},this.domNodesCollect=function(e){try{var t=[];[Ne,Oe].forEach((function(e){t.push("["+e+"]")}));var n=function(e){var t,n,i,o,a,s=JSON.parse(e.getAttribute(Ne)||"{}");if("undefined"!==typeof s.closeExpose)a=!s.closeExpose;else{var l=null==(t=r.BtmCore)?void 0:t.getFullBtmInfo(e);if(!l)return!0;var u=J(l.btm,"c")||"c0";a=!(null==(o=null==(i=null==(n=r.remoteConfig)?void 0:n.moduleConfig)?void 0:i.disableModuleExpose)?void 0:o.includes(u))}return a},i=Array.from(e.querySelectorAll(t.join(","))).filter((function(e){return n(e)}));[Ne,Oe].some((function(t){return e.getAttribute(t)}))&&n(e)&&i.push(e),i.forEach((function(e){r.observeNode(e)}))}catch(o){Ee.error("BTM WEB SDK: \u6536\u96c6\u76ee\u6807\u5143\u7d20\u9519\u8bef",o)}},"undefined"!==typeof window){this.BtmCore=e,this.remoteConfig=n,this.blockConfig=Te(Te({},m),t),this.modelNodes.init(e,this.blockConfig,n);var o=document.body;this.containers.add(o),this.openObserver(o)}else Ee.warn("\u4e0d\u652f\u6301\u975e\u6d4f\u89c8\u5668\u73af\u5883")}var t=e.prototype;return t.openObserver=function(e){void 0===e&&(e=document.body);try{this.hasOpenObserver||(this.createIntersectionObserver(),this.dynamicNodesCollect(),null==window||window.addEventListener("scroll",this.scrollHandler,!0),this.visibilityChange()),document.removeEventListener("click",this.handleClickEvent,!0),document.addEventListener("click",this.handleClickEvent,!0),this.domNodesCollect(e),this.hasOpenObserver=!0}catch(t){Ee.error("BTM WEB SDK: \u6536\u96c6\u76ee\u6807\u5143\u7d20\u9519\u8bef",t)}},t.visibilityChange=function(){var e=this,t=new we,n=function(){e.modelNodes.exposeElements.forEach((function(t){e.modelNodes.checkIsExposed(t)&&e.reportExposureDuraiton(t)}))};t.trackVisibilityChange((function(){n()})),t.trackBeforeUnload((function(){n()}))},t.createIntersectionObserver=function(){var e;"undefined"!==typeof IntersectionObserver?(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=new IntersectionObserver(this.handleIntersectionObserve,{threshold:[(null==(e=this.blockConfig)?void 0:e.percent)||m.percent]})):Ee.warn("BTM WEB SDK\uff1a\u8be5\u8bbe\u5907\u4e0d\u652f\u6301IntersectionObserver")},t.reportExposure=function(e){var t,n=this;this.modelNodes.expose(e),null==(t=this.overlapTransitionPool)||t.forEach((function(t,r){t.observeNodes.has(e)&&t.observeNodes.delete(e),0===t.observeNodes.size&&n.overlapTransitionPool.delete(r)})),this.visibleTransitionPool.forEach((function(t,r){t.has(e)&&t.delete(e),0===t.size&&n.visibleTransitionPool.delete(r)}))},t.reportExposureDuraiton=function(e){var t,n,r=this,i=this.modelNodes.exposeDuration(e);null==(t=this.overlapTransitionPool)||t.forEach((function(t,n){t.observeNodes.has(e)&&t.observeNodes.delete(e),0===t.observeNodes.size&&r.overlapTransitionPool.delete(n)})),this.visibleTransitionPool.forEach((function(t,n){t.has(e)&&t.delete(e),0===t.size&&r.visibleTransitionPool.delete(n)})),i||null==(n=this.intersectionObserver)||n.unobserve(e)},t.dynamicNodesCollect=function(){var e=this;try{if("undefined"===typeof MutationObserver)return void Ee.warn("\u8be5\u8bbe\u5907\u4e0d\u652f\u6301MutationObserver");this.mutationObserver=new MutationObserver((function(t){t.forEach((function(t){var n=t.type,r=t.addedNodes,o=t.removedNodes,a=t.target,s=t.attributeName;if("childList"===n){for(var l=0,u=Array.from(r);l<u.length;l++){var c=u[l];if(G(c))for(var d,h=(0,i.A)(e.containers);!(d=h()).done;){if(d.value.contains(c)){e.domNodesCollect(c);break}}}for(var m=0,p=Array.from(o);m<p.length;m++){var f=p[m];G(f)&&(e.containers.has(f)&&e.containers.delete(f),e.handleObserveNodes(f))}}else if("attributes"===n&&G(a))if(s&&[Se,Oe,Ne].includes(s))for(var v,g=(0,i.A)(e.containers);!(v=g()).done;){if(v.value.contains(a)){e.observeNode(a);break}}else setTimeout((function(){e.handleObserveNodes(a,!0)}),500)}))})),this.mutationObserver.observe(document.body,{subtree:!0,childList:!0,attributes:!0,attributeFilter:[Se,Oe,Ne]})}catch(t){Ee.error("BTM WEB SDK: \u8282\u70b9\u53d8\u5316\u56de\u8c03\u9519\u8bef",t)}},t.handleObserveNodes=function(e,t){try{var n=this.visibleTransitionPool.get(e);if(n)for(var r,o=(0,i.A)(n);!(r=o()).done;){var a=r.value;this.checkAndHandleVisibility(a)&&this.checkAndHandleOverlap(a)}var s=this.overlapTransitionPool.get(e);if(s){var l=s.observeNodes,u=s.oldValue;if(t){var c=e.getBoundingClientRect(),d=c.top,h=c.left,m=c.bottom,p=c.right;if(O(e).visibility&&function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var o,a=(0,i.A)(n);!(o=a()).done;){var s=o.value;if(e[s]!==t[s])return!1}return!0}(u,{top:d,left:h,bottom:m,right:p}))return}if(l)for(var f,v=(0,i.A)(l);!(f=v()).done;){var g=f.value;this.checkAndHandleVisibility(g)&&this.checkAndHandleOverlap(g)}}}catch(b){Ee.error("BTM WEB SDK: \u5904\u7406\u4e2d\u8f6c\u6c60\u5143\u7d20\u9519\u8bef\u3002",b)}},t.scrollObserver=function(){var e=this;this.overlapTransitionPool&&this.overlapTransitionPool.forEach((function(t,n){e.handleObserveNodes(n)}))},e}(),Be=function(e,t){var n=this;this.startHistoryListener=function(){var e=n;window.addEventListener(e.eventName,e.eventFn),window.history.pushState=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.originPushState.apply(this,n),o=new CustomEvent(e.eventName);return window.dispatchEvent(o),i},window.history.replaceState=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.originReplaceState.apply(this,n),o=new CustomEvent(e.eventName);return window.dispatchEvent(o),i},window.addEventListener("popstate",(function(t){if(!t.garfish){var n=new CustomEvent(e.eventName);window.dispatchEvent(n)}}))},this.eventFn=t,this.eventName=e,this.originPushState=window.history.pushState,this.originReplaceState=window.history.replaceState,this.startHistoryListener()};function Pe(e){return e.replace(/:id/g,"([^/]+)")+"(\\?.*)?$"}function De(e){var t=Object.keys(e).sort((function(e,t){return t.length-e.length})),n={};return t.forEach((function(t){n[t]=e[t]})),n}var Me=function(){var e=this;this.status="pending",this.promise=new Promise((function(t,n){e.resolve=function(n){"pending"===e.status&&(e.status="fulfilled",t(n))},e.reject=function(t){"pending"===e.status&&(e.status="rejected",n(t))}}))},Le=n(64399),je=function(){function e(e){this.devLog=!1,this.prefix="[BTM logger]",this.devLog=e}var t=e.prototype;return t.info=function(){if(this.devLog){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=Le).log.apply(e,[this.prefix].concat(n))}},t.error=function(){if(this.devLog){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=Le).error.apply(e,[this.prefix].concat(n))}},e}();function Ue(e){return window.localStorage.getItem(e)}function He(e,t){window.localStorage.setItem(e,t)}var Ge=n(64399),ze=Object.defineProperty,Ke=Object.defineProperties,Ve=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Ye=function(e,t,n){return t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Je=function(e,t){for(var n in t||(t={}))Fe.call(t,n)&&Ye(e,n,t[n]);if(We)for(var r,o=(0,i.A)(We(t));!(r=o()).done;){n=r.value;$e.call(t,n)&&Ye(e,n,t[n])}return e},qe=function(e,t){return Ke(e,Ve(t))},Xe=c.rE,Qe=function(){function e(){var e=this;this.tea=null,this.btmInfo={},this.isInited=!1,this.BCMContext={},this.btmAId="",this.btmBId="b0",this.btmExposeInfo={},this.pageParams={},this.unitParams=null,this.resent=!1,this.target=null,this.isMPA=!1,this._pre_action_record={action_btm:"",ts:0},this._actionHistory=[],this._bizUrlBtmMap=null,this.reportQueue=[],this.URL_CHANGE_EVENT_NAME="BTM_WEB_SDK-URL_CHANGE",this.logger=null,this._region="sg",this.previousTs=0,this.pageShowTs=0,this.remoteConfig={},this.appId=0,this.eventHandlers={},this.pageInitPromise=new Me,this._getFinalBtm=function(t,n){var r="";return n&&(r=n),t&&(r=e.getFullBtmInfo(t).btm),e._formatBtm(r)},this._formatCdInfo=function(e){try{var t=J(e,"c")||"c0",n=J(e,"d");if(n||(n=J(e,"d",!1)),!n){var r=e.split(".").map((function(e){return e.toLowerCase()})),i=r[r.length-1];n=Y(i,!1)?"d0":i}return n||(n="d0"),t+"."+n}catch(o){return Ge.error(o),"c0.d0"}},this._formatBtm=function(t){try{var n=J(t,"a")||e.getAId()||"a0",r=J(t,"b")||e.getCurrentPageBId()||"b0";return n+"."+("b0"===r?e.btmBId:r)+"."+e._formatCdInfo(t)}catch(i){return Ge.error(i),"a0.b0.c0.d0"}},this._getLastMatchRecord=function(t,n){for(var r=(0,a.A)(e._actionHistory),i=r.length,o=1;o<=i;o++){var s=r[i-o];if(X(t,s.action_btm)&&n-s.ts<1e4)return Je({},s)}},"undefined"!==typeof window&&window.addEventListener("click",(function(t){e.target=t.target}),!0)}var t=e.prototype;return t.init=function(e,t,n,r){var i,o,a=this;try{if(this.pageShowTs=Date.now(),"undefined"===typeof window)return void Ge.warn("\u4e0d\u652f\u6301\u975e\u6d4f\u89c8\u5668\u73af\u5883");if(this.isInited)return;window["btm-info"]=this,this.trigger("config",t),this.appId=null!=r?r:4068,this.remoteConfig=t||{},this.getReverseIndex=n;var s=e.btmAId,l=e.uniqueId,u=e.teaInitParams,c=void 0===u?{}:u,d=e.spaConfig,p=void 0===d?{}:d,f=e.pagePattern,v=void 0===f?{}:f,b=e.isMPA,y=void 0!==b&&b,_=e.appName,w=void 0===_?"":_,E=e.isNeedReportPage,C=e.blockConfig,I=void 0===C?m:C,k=e.reportCallback,x=e.customReport,R=e.bizUrlMap,T=e.region,S=e.devLog,O=void 0!==S&&S;this._region=T||"sg",this.logger=new je(O),w&&(this.tccPagePattern=this.getTccPageRules(s,t||{},R),this.logger.info("tccPagePattern",this.tccPagePattern,this._bizUrlBtmMap)),this.isNeedReportPage=E,this.isInited=!0,this.isMPA=y,this.spaConfig=p,this.pagePattern=De(v),this.btmAId=s||"a0",this.reportCallback=k;var N=function(e){try{return window.sessionStorage.getItem(e)}catch(t){return""}}("btm_launch_id");for(N||function(e,t){try{window.sessionStorage.setItem(e,t)}catch(n){}}("btm_launch_id",N=""+(new Date).getTime()),this.btmInfo.btm_sdk_version=Xe||null,this.btmInfo.is_prod=function(){var e,t;try{return((null==(e=null==window?void 0:window.gfdatav1)?void 0:e.env)||"undefined")+"-"+((null==(t=null==window?void 0:window.gfdatav1)?void 0:t.canary)||"undefined")}catch(n){return g.error("btm-web-sdk error",n,null==window?void 0:window.gfdatav1),"undefined-undefined"}}(),this.btmInfo.launch_id=N,this.btmInfo.unique_id=l,(null==(i=null==window?void 0:window.__UNIVERSAL_TRACKER_DEBUG__)?void 0:i.getBtmConfig)&&(null==(o=null==window?void 0:window.__UNIVERSAL_TRACKER_DEBUG__)||o.getBtmConfig(t)),this.tea=new h(c,x,O),y||(this.shouldReport(null==window?void 0:window.location.href,!0)&&this.pageInit(),this.initRouteMonitor()),y&&this.pageInit(),this._recoverCachedPreInfo();0!==this.reportQueue.length;){var A=this.reportQueue.shift();A&&this.sendBtmLog(A.teaParams,null==A?void 0:A.target)}this.btmBId=this.getCurrentPageBId(),this.pageInitPromise.promise.then((function(){a.exposureCore=new Ae(a,I,t)})),this.trigger("init",this.btmInfo)}catch(B){Ge.error("Universal Tracker Sdk init error",B)}},t.pageInit=function(){var e,t,n,r,i;try{if(!this.isInited)return void Ge.warn("The BTM WEB SDK is not initialized. Please ensure it is initialized before use.");if(this.isNeedReportPage&&!this.isNeedReportPage())return;this.resetBCMParams();var o=(new Date).getTime(),a=b(null==(e=null==window?void 0:window.location)?void 0:e.href),s=a.btm_ppre,l=a.btm_pre,c=a.btm_show_id,d=a.btm_pre_unit_params,h=void 0===d?"{}":d,m=JSON.parse(decodeURIComponent(h));this.btmBId=this.getCurrentPageBId(),this.btmExposeInfo={btm:this.btmAId+"."+this.btmBId+".c0.d0",btm_pre:l||(null==(t=this.btmInfo)?void 0:t.btm)||"a0.b0.c0.d0",btm_ppre:s||(null==(n=this.btmInfo)?void 0:n.btm_pre)||"a0.b0.c0.d0",btm_show_id:(0,u.A)(),btm_pre_show_id:c||(null==(r=this.btmInfo)?void 0:r.btm_show_id),current_url:null==(i=null==window?void 0:window.location)?void 0:i.href,btm_sdk_version:this.btmInfo.btm_sdk_version,is_prod:this.btmInfo.is_prod},this.btmInfo=qe(Je(Je({},this.btmInfo),this.btmExposeInfo),{enter_time:o,btm_pre_unit_params:m,btm_page_params:this.pageParams}),this._recoverCachedPreInfo(),this.btmReport({eventName:V.PageShow,eventParams:Je({},this.btmInfo),time:this.pageShowTs}),"pending"===this.pageInitPromise.status&&this.pageInitPromise.resolve()}catch(p){Ge.error("BTM WEB SDK\uff1a\u81ea\u52a8\u4e0a\u62a5API\u8c03\u7528\u5931\u8d25\u3002",p)}},t.manualPageInit=function(e,t,n,r){var i,o;try{if(!this.isInited)return void Ge.warn("The BTM WEB SDK is not initialized. Please ensure it is initialized before use.");var a=b(null==(i=null==window?void 0:window.location)?void 0:i.href),s=a.btm_ppre,l=a.btm_pre,c=a.btm_show_id,d=a.btm_pre_unit_params,h=void 0===d?"{}":d,m=JSON.parse(decodeURIComponent(h)),p=(new Date).getTime(),f=this.btmInfo,v=f.btm,g=f.btm_pre,y=f.btm_ppre,_=f.btm_show_id,w=f.btm_pre_show_id,E=m||this.unitParams;this.resetBCMParams(),this.btmBId=e;var C=!!v&&"b0"===v.split(".")[1];this.btmExposeInfo={btm:this.btmAId+"."+this.btmBId+".c0.d0",btm_pre:C?g:l||v||"a0.b0.c0.d0",btm_ppre:C?y:s||g||"a0.b0.c0.d0",btm_show_id:(0,u.A)(),btm_pre_show_id:C?w:c||_,current_url:null==(o=null==window?void 0:window.location)?void 0:o.href,btm_sdk_version:this.btmInfo.btm_sdk_version,is_prod:this.btmInfo.is_prod},this.btmInfo=qe(Je(Je({},this.btmInfo),this.btmExposeInfo),{enter_time:p,btm_pre_unit_params:E,btm_page_params:Je(Je({},this.pageParams),t)}),this._recoverCachedPreInfo(),this.btmReport({eventName:V.PageShow,eventParams:Je({},this.btmInfo),time:n,useBeacon:r}),"pending"===this.pageInitPromise.status&&this.pageInitPromise.resolve()}catch(I){Ge.error("BTM WEB SDK\uff1a\u624b\u52a8\u4e0a\u62a5API\u8c03\u7528\u5931\u8d25\u3002",I)}},t.setPageParams=function(e){this.isInited?(this.pageParams=e,this.resent?Ge.warn("Page Param \u91cd\u590d\u8bbe\u7f6e"):(this.resent=!0,this.btmReport({eventName:V.PageShow,eventParams:qe(Je({},this.btmInfo),{btm_page_params:this.pageParams})}))):Ge.warn("The BTM WEB SDK is not initialized. Please ensure it is initialized before use.")},t.setUnitParams=function(e){this.isInited?this.unitParams=e:Ge.warn("The BTM WEB SDK is not initialized. Please ensure it is initialized before use.")},t.getPageBtmInfo=function(){return qe(Je({},this.btmExposeInfo),{btm:this.btmAId+"."+this.btmBId+".c0.d0"})},t.getFullBtmInfo=function(e,t){try{var n=Je(Je({},this.btmExposeInfo),this.btmInfo);if(t)return n.btm=this.btmAId+"."+this.btmBId+"."+t,n;if(e){var r=y(e),i=r.btmArray;if(""!==(null==r?void 0:r.dataBtmIdParent))return n.btm=w(null==r?void 0:r.dataBtmIdParent),n;if(0===i.length&&(i=["d0","c0"]),i.length>2){var a=i.length,s=i.slice(0,a-1)[0],l=i.find((function(e){return/^[c][0-9]{3,9}$/.test(e)}));i=[s,l||"c0"]}if(2===i.length){var u=i[0].split(".");if(2===u.length){var c=(0,o.A)(u,2),d=c[0],h=c[1];d.startsWith("c")&&(i=[h,d])}}var m=w([this.btmAId,this.btmBId,i[1]||"c0",i[0]||"d0"].join("."));n.btm=m}else n.btm=this.btmAId+"."+this.btmBId+".c0.d0";return n}catch(p){return Ge.error("getFullBtmInfo error ->",p),qe(Je({},this.btmInfo),{btm:"a0.b0.c0.d0"})}},t.sendBtmLog=function(e,t){var n;if(null==(n=this.tea)?void 0:n.report){var r=e.eventName,i=e.eventParams,o=this.getFullBtmInfo(t);this.btmReport({eventName:r,eventParams:Je(Je({},o),i)})}else this.reportQueue.push({teaParams:e,target:t})},t.sendBtmLogManually=function(e){var t=e.target,n=e.btm,r=e.type,i=e.btmBId,o=e.params,a=e.duration,s=e.ts,l=e.useBeacon;if("pageShow"!==r){var u,c=this._getFinalBtm(t||null,n);!function(e,t){return("click"===e||"expose"===e)&&4===t.split(".").length}(r,c)?u=this.getFullBtmInfo(null,this._formatCdInfo(c)):(u=Je(Je({},this.btmExposeInfo),this.btmInfo)).btm=c;var d=_(t);this.btmReport({eventName:"click"===r?V.Click:"disappear"===r?V.ModuleDisappear:V.ModuleShow,eventParams:qe(Je({},u),{btm_block_params:o?Je(Je(Je({},this.BCMContext),d),o):Je(Je({},this.BCMContext),d),duration:"disappear"===r&&a?a:void 0}),time:s,useBeacon:l})}else this.manualPageInit(i,o,s,l)},t.getBtmUrl=function(e,t,n,r){var i,o,a;this.beforeGetBtmUrl(n);try{var s=l()(e,{},!0),u=s.origin,c=s.pathname,d=s.query,h=s.hash,m=this.getFullBtmInfo(n).btm,p=!t&&this.getPageBIdByUrl(e)===this.btmBId,f=p?this.btmInfo.btm_ppre:this.btmInfo.btm_pre,g=p?this.btmInfo.btm_pre:m,b=p?null==(i=this.btmInfo)?void 0:i.btm_pre_show_id:null==(o=this.btmInfo)?void 0:o.btm_show_id,y=qe(Je({},d),{btm_ppre:f||"a0.b0.c0.d0",btm_pre:g||"a0.b0.c0.d0",btm_show_id:b});(r||this.unitParams)&&(y.btm_pre_unit_params=encodeURIComponent(JSON.stringify(r||this.unitParams)));var _=(a=y,v().stringify(a));return"null"===u?c+"?"+_+h:u+c+"?"+_+h}catch(w){return Ge.error("getBtmUrl error ->",w),e}finally{this.unitParams=null}},t.btmJump=function(e,t,n){if("undefined"!==typeof window){var r=n||{},i=r.isReplace,o=void 0!==i&&i,a=r.isBlank,s=void 0!==a&&a,l=this.getBtmUrl(e,s,t);o?window.location.replace(l):s?window.open(l):window.location.href=l}else Ge.warn("\u4e0d\u652f\u6301\u975e\u6d4f\u89c8\u5668\u73af\u5883")},t.getPageBIdByUrl=function(e){var t=this.spaConfig,n=void 0===t?{}:t,r=this.pagePattern,i=void 0===r?{}:r,o=this.tccPagePattern,a=void 0===o?{}:o,s=l()(e),u=s.pathname,c=s.href,d=Object.keys(i).find((function(e){return new RegExp(e).test(c)})),h=Object.keys(a).find((function(e){return new RegExp(e).test(c)}));return h?a[h].replace(this.btmAId+".",""):d?i[d]:n[u]||""},t.getAId=function(){return this.btmAId},t.getBId=function(){return this.btmBId},t.getCurrentPageBId=function(){return this.isMPA?document.body.getAttribute("data-btm")||"b0":this.getPageBIdByUrl(null==window?void 0:window.location.href)||"b0"},t.getCurrentTarget=function(){return this.target},t.getTccPageRules=function(e,t,n){var r={};try{if(this.initBizUrlMap(t,n),!t.urlRegexConfKeys||0===t.urlRegexConfKeys.length)return{};r=function(e,t){var n={};return e.forEach((function(e){var r=e.urlRegex,o=e.pagePath,a=e.btmFullCode;if(-1!==a.indexOf(t))if(0!==r.length)for(var s,l=(0,i.A)(r);!(s=l()).done;){var u=s.value;n[u]=a}else for(var c,d=(0,i.A)(o);!(c=d()).done;){var h=c.value;n[Pe(h)]=a}})),De(n)}(t.urlRegexConfKeys,e)}catch(o){Ge.error("fetch TCC config error",o)}return r||{}},t.setReportCallback=function(e){this.reportCallback=e},t.updateUniqueId=function(e){this.btmInfo.unique_id=e},t.getCurrentTimestamp=function(e){var t=e||Date.now();return t<=this.previousTs&&(t=this.previousTs+1),this.previousTs=t,t},t.btmReport=function(e){var t,n,r,i=e.eventName,o=e.eventParams,a=e.time,s=e.useBeacon;if(o.btm=o.btm.toLowerCase(),o.btm_page_params=R(o.btm_page_params),o.btm_pre_unit_params=R(o.btm_pre_unit_params),o.btm_block_params=R(o.btm_block_params),o.params=R(o.params),function(e,t){var n=e.split(".");if(4===n.length){var r=n[2],i=n[3];if(t===V.Click&&"c0"===r&&"d0"===i)return W.error("BTM \u70b9\u51fb\u4e8b\u4ef6\u683c\u5f0f\u9519\u8bef",e),!1;if(t===V.ModuleShow&&"c0"===r&&"d0"===i)return W.error("BTM \u66dd\u5149\u4e8b\u4ef6\u683c\u5f0f\u9519\u8bef",e),!1}return!0}(o.btm,i)){var l=this.getCurrentTimestamp(a),u=this._pre_action_record.ts?l-this._pre_action_record.ts:0;i!==V.BizSucceed&&i!==V.BizFail||!o.biz_response_time||(u=o.biz_response_time);var c={eventName:i,eventParams:qe(Je({},o),{operate_time:u,action_btm:o.btm,action_btm_pre:this._pre_action_record.action_btm,local_ms:l})};i!==V.Click&&i!==V.ModuleShow&&i!==V.PageShow||(this._pre_action_record={action_btm:o.btm,ts:l},this._actionHistory.length>=10&&this._actionHistory.shift(),this._actionHistory.push({action_btm:o.btm,ts:l})),this.trigger("logSent",{action_btm:o.btm,ts:l}),i===V.PageShow&&(null==(t=null==window?void 0:window.__UNIVERSAL_TRACKER_DEBUG__)?void 0:t.getBtmInfo)&&(null==(n=null==window?void 0:window.__UNIVERSAL_TRACKER_DEBUG__)||n.getBtmInfo({btm:o.btm,appId:this.appId})),null==(r=this.tea)||r.report(c,s)}},t.autoBizStartLog=function(e){var t,n,r,i=this;if(!this._bizUrlBtmMap||!this.isInited)return null==(t=this.logger)||t.info(e+" is not registered in bizUrlMap"),Je({},q);var o=this._bizUrlBtmMap.get(e);if(!o||!o.size)return null==(n=this.logger)||n.info("\u6ca1\u6709\u627e\u5230 url \u5bf9\u5e94\u7684 btm \u70b9\u4f4d"),Je({},q);var a=Date.now(),s=[];if(o.forEach((function(e){var t=i._getLastMatchRecord(e,a);t&&s.push(t)})),!s.length)return null==(r=this.logger)||r.info("\u6ca1\u6709\u627e\u5230\u6700\u8fd1\u7684 action_btm"),Je({},q);s.sort((function(e,t){return t.ts-e.ts}));var l=s[0].action_btm,u=this.getFullBtmInfo();return this.btmReport({eventName:V.BizStart,eventParams:qe(Je({},u),{btm:l,biz_url:e})}),{onBizFail:function(t,n){var r=Date.now()-a;i.btmReport({eventName:V.BizFail,eventParams:qe(Je({},u),{btm:l,biz_response_time:r,status_code:t,fail_msg:n,biz_url:e})})},onBizSucceed:function(){var t=Date.now()-a;i.btmReport({eventName:V.BizSucceed,eventParams:qe(Je({},u),{btm:l,biz_response_time:t,biz_url:e})})}}},t.setBCMContext=function(e){this.BCMContext=e},t.on=function(e,t){var n;this.eventHandlers[e]||(this.eventHandlers[e]=[]),null==(n=this.eventHandlers[e])||n.push(t)},t.trigger=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.eventHandlers[e];i&&i.forEach((function(e){return e.apply(void 0,n)}))},t.shouldReport=function(e,t){var n,r,i=this.getPageBIdByUrl(e);return!(!i&&t)&&(!(null==(n=this.remoteConfig.pageConfig)?void 0:n.disablePageShow)||!(null==(r=this.remoteConfig.pageConfig)?void 0:r.disablePageShow).includes(i))},t.initRouteMonitor=function(){var e=this;this.routeMonitor=new Be(this.URL_CHANGE_EVENT_NAME,(function(){var t,n=e.btmBId;n!==e.getPageBIdByUrl(null==window?void 0:window.location.href)?(e.shouldReport(null==window?void 0:window.location.href)&&(e.pageShowTs=Date.now(),e.pageInit()),e.BCMContext={}):null==(t=e.logger)||t.info("BTM WEB SDK: \u76f8\u540c\u9875\u9762\u4e0d\u8fdb\u884c\u4e0a\u62a5\u3002\u5bf9\u5e94 B \u4f4d "+n)}))},t.resetBCMParams=function(){this.pageParams={},this.unitParams=null,this.resent=!1},t.beforeGetBtmUrl=function(e){var t=this,n="",r=0;if(e){var i=this.getFullBtmInfo(e).btm;J(i,"d")&&(n=this._formatBtm(i),r=Date.now())}setTimeout((function(){t._saveCachedPreInfo(n,r)}))},t._saveCachedPreInfo=function(e,t){var n;if("function"===typeof(null==(n=null==window?void 0:window.localStorage)?void 0:n.setItem))return e&&t?(He($,e),void He(F,String(t))):void(this._pre_action_record.action_btm&&this._pre_action_record.ts&&(He($,this._pre_action_record.action_btm),He(F,String(this._pre_action_record.ts))));Ge.warn("BTM SDK: localStorage.setItem is not supported")},t._recoverCachedPreInfo=function(){var e;if(!this._pre_action_record.action_btm||!this._pre_action_record.ts)if("function"===typeof(null==(e=null==window?void 0:window.localStorage)?void 0:e.getItem)){var t=Ue($)||"",n=Number(Ue(F))||0;if(t&&n){var r=Date.now();r<=n||r-n>3e4||(this._pre_action_record={action_btm:t,ts:n})}}else Ge.warn("BTM SDK: localStorage.getItem is not supported\uff01")},t.initBizUrlMap=function(e,t){var n=this,r={};if(r=e.bizUrlConfig&&0!==Object.keys(e.bizUrlConfig).length?Je(Je({},t),e.bizUrlConfig):Je({},t),Object.keys(r).length)try{this._bizUrlBtmMap=new Map;for(var i=Object.keys(r),o=function(){var e=s[a];if(!J(e,"b"))return Ge.warn("gec btm sdk: "+e+" \u7f3a\u5931 b \u70b9\u4f4d\uff0c\u4e3a\u65e0\u6548\u70b9\u4f4d"),0;var t=r[e];if(!t||!t.length)return 0;var i=n._formatBtm(e);t.forEach((function(e){var t,r,o,a;(null==(t=n._bizUrlBtmMap)?void 0:t.get(e))||null==(r=n._bizUrlBtmMap)||r.set(e,new Set),null==(a=null==(o=n._bizUrlBtmMap)?void 0:o.get(e))||a.add(i)}))},a=0,s=i;a<s.length;a++)o()}catch(l){Ge.error("Sif Btm Sdk: biz Url \u521d\u59cb\u5316\u5931\u8d25",null==l?void 0:l.message)}},e}(),Ze=new Qe;class et{constructor(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}emit(e,t){const n=this.events[e];n&&n.forEach((e=>e(t)))}}var tt=n(15914);var nt=(e=>(e.RAGE_CLICK="rage_click",e.DEAD_CLICK="dead_click",e.EXCESSIVE_SCROLLING="excessive_scrolling",e.LONG_HOVER="long_hover",e))(nt||{}),rt=(e=>(e.NETWORK_TIMEOUT="network_timeout",e.NETWORK_ERROR="network_error",e))(rt||{}),it=(e=>(e.STANDARD_RECORDER="__GecSessionReplayStandardRecorder",e.STANDARD_RECORDER_CLASS="__GecSessionReplayStandardRecorderClass",e.BLACKBOX_RECORDER="__GecSessionReplayBlackboxRecorder",e.BLACKBOX_RECORDER_CLASS="__GecSessionReplayBlackboxRecorderClass",e.SAVE_BLACKBOX_RECORDING="__GecSessionReplaySaveBlackboxRecording",e.BLACKBOX_RECORDER_INSTANCE="__GecSessionReplayBlackboxRecorderInstance",e))(it||{});function ot(){const e=null==navigator?void 0:navigator.connection;return e?e.effectiveType:null}var at=n(64399);const st=class e{constructor(e={region:""}){var t;this.sampleRatio=.001,this.region=e.region,this.isTTP="US"===(null==(t=this.region)?void 0:t.toLocaleUpperCase()),this.sampleRatio=e.sampleRatio,this.onEvent=e.onEvent,this.init()}init(){return e=this,t=null,n=function*(){var e;try{if(this.blackboxRecorder=window[it.SAVE_BLACKBOX_RECORDING],this.blackboxInstance=window[it.BLACKBOX_RECORDER_INSTANCE],!this.blackboxInstance||!this.blackboxRecorder)return void at.log("cant find blackbox recorder");null==(e=this.blackboxInstance)||e.on("frame",(e=>{const{trackType:t,event:n}=e;switch(t){case tt.S.Insight:if(n.eventType===tt.Tz.INSIGHT_RAGE_CLICK){const e=n.data;this.handleRageClick(e)}if(n.eventType===tt.Tz.INSIGHT_DEAD_CLICK){const e=n.data;this.handleDeadClick(e)}if(n.eventType===tt.Tz.INSIGHT_LONG_HOVER){const e=n.data;this.handleLongHover(e)}if(n.eventType===tt.Tz.INSIGHT_EXCESSIVE_SCROLLING){const e=n.data;this.handleExcessiveScroll(e)}case tt.S.Network:case tt.S.Performance:}}))}catch(t){at.log("init blackbox recorder error",t)}},new Promise(((r,i)=>{var o=e=>{try{s(n.next(e))}catch(t){i(t)}},a=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}));var e,t,n}handleRageClick(e){var t,n;const r=Date.now();this.triggerEvent({eventType:nt.RAGE_CLICK,clickCount:e.clicks,duration:e.duration,element:null==(t=null==e?void 0:e.context)?void 0:t.tagName,innerText:null==(n=null==e?void 0:e.context)?void 0:n.textContent,x:e.x,y:e.y,timestamp:r}),this.checkAndRecord()}handleDeadClick(e){var t,n;const r=Date.now();this.triggerEvent({eventType:nt.DEAD_CLICK,duration:e.duration,element:null==(t=null==e?void 0:e.context)?void 0:t.tagName,innerText:null==(n=null==e?void 0:e.context)?void 0:n.textContent,x:e.x,y:e.y,timestamp:r}),this.checkAndRecord()}handleLongHover(e){var t,n;const r=Date.now();this.triggerEvent({eventType:nt.LONG_HOVER,duration:e.duration,element:null==(t=null==e?void 0:e.context)?void 0:t.tagName,innerText:null==(n=null==e?void 0:e.context)?void 0:n.textContent,x:e.x,y:e.y,timestamp:r}),this.checkAndRecord()}handleExcessiveScroll(e){const t=Date.now();(null==e?void 0:e.distance)<5e3||(this.triggerEvent({eventType:nt.EXCESSIVE_SCROLLING,scrollDistance:e.distance,duration:e.duration,timestamp:t}),this.checkAndRecord())}handleNetworkTimeout(e){const t=Date.now(),n=ot();this.triggerEvent({eventType:rt.NETWORK_TIMEOUT,type:null==e?void 0:e.type,method:e.method,url:null==e?void 0:e.url,networkType:n,timestamp:t})}handleNetworkError(e){const t=Date.now(),n=ot();this.triggerEvent({eventType:rt.NETWORK_ERROR,type:null==e?void 0:e.type,method:e.method,url:null==e?void 0:e.url,networkType:n,timestamp:t})}checkAndRecord(){const t=Date.now();t-e.lastRecordTime<e.recordingInterval||this.sampleRatio&&Math.random()>this.sampleRatio||(e.lastRecordTime=t,this.addToQueue())}addToQueue(){e.timerQueue.push((()=>this.record())),e.isRecording||this.executeNext()}executeNext(){const t=e.timerQueue.shift();t?(e.isRecording=!0,t()):e.isRecording=!1}record(){setTimeout((()=>{var t,n;try{this.isTTP?null==(t=this.blackboxRecorder)||t.call(this,"1143"):null==(n=this.blackboxRecorder)||n.call(this,"1159"),e.isRecording=!1,this.executeNext()}catch(r){at.log("record error",r)}}),3e4)}triggerEvent(e){this.onEvent&&this.onEvent(e)}};st.lastRecordTime=0,st.recordingInterval=3e4,st.timerQueue=[],st.isRecording=!1;let lt=st;var ut=n(64399);const ct=(e,t=!0)=>!!/^[a-d][0-9]{3,9}$/.test(e)||!t&&/^[a-d]0$/.test(e),dt=(e,t,n=!0)=>{try{const r=String(e).split(".").map((e=>e.toLowerCase()));return r.find((e=>e.startsWith(t)&&ct(e,n)))}catch(r){ut.error(r)}};var ht=n(64399),mt=Object.defineProperty,pt=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,yt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_t=(e,t)=>{for(var n in t||(t={}))gt.call(t,n)&&yt(e,n,t[n]);if(vt)for(var n of vt(t))bt.call(t,n)&&yt(e,n,t[n]);return e};var wt=new class{constructor(){this.btmAId="",this.btmBId="b0",this.btmCId="c0",this.btmDId="d0",this.actionBtm="",this.remoteConfig={},this.allPaths=[],this.eventEmitter=new et,this.matchedPath=[],this.callback={},this.callbackExecuted=!1,this.activeTimer=null,this._actionHistory=[],"undefined"!==typeof window||ht.warn("fe-monitor \u4e0d\u652f\u6301\u975e\u6d4f\u89c8\u5668\u73af\u5883")}init({region:e,core:t,feMonitorConfig:n,remoteConfig:r}){var i,o;try{this.BtmCore=t,this.callback=n;null==e||e.toLocaleUpperCase();this.monitorTracker=new lt({sampleRatio:(null==(i=null==r?void 0:r.feConfig)?void 0:i.recording_sample_ratio)||.001,region:e,onEvent:e=>{var t,n;const{id:r,journey_id:i,first_btm:o,trajectory_content:a}=this.matchedPath[0]||{};try{const u={event_type:e.eventType,event_data:e,url:window.location.href,path_id:String(r),journey_id:String(i),first_btm:o,trajectory_content:a,btm:this.actionBtm,btm_b:this.btmBId};this.eventEmitter.emit("behaviorEvent",u),null==(n=null==(t=this.BtmCore)?void 0:t.tea)||n.report({eventName:"btm_behavior_event",eventParams:(s=_t({},u),l={event_data:JSON.stringify(e)},pt(s,ft(l)))})}catch(u){ht.error("behavior event submit error",u)}var s,l}}),this.remoteConfig=null!=r?r:{},this.allPaths=(null==(o=this.remoteConfig.journeyConfig)?void 0:o.path)||[];const a=this.BtmCore.getAId(),s=this.BtmCore.getCurrentPageBId();this.btmAId=a,this.btmBId=s}catch(a){ht.error("fe-monitor init error",a)}}setCurrentNode(e){if(this.actionBtm=e.action_btm,this._actionHistory.length>=50&&this._actionHistory.shift(),this._actionHistory.push({action_btm:e.action_btm,ts:e.ts}),this.allPaths.length>0){const e=this.matchPaths(this._actionHistory,this.allPaths);this.matchedPath=e}const t=dt(e.action_btm,"b")||"b0",n=dt(e.action_btm,"c")||"c0";this.btmBId!==t&&(this.btmBId=t),this.btmCId!==n&&(this.btmCId=n),this.matchAndTriggerCallback()}on(e,t){this.eventEmitter.on(e,t)}parseTrajectoryContent(e){return e.split("->").filter((e=>"sys_start"!==e&&"sys_end"!==e))}matchPath(e,t){var n,r;const i=this.parseTrajectoryContent(t.trajectory_content);let o=0,a=0,s=e[0].ts;for(;o<e.length&&a<i.length;){const l=e[o],u=i[a];if(l.action_btm===u){if(o-a>(null!=(n=t.tolerate_step)?n:10))return!1;if(l.ts-s>1e3*(null!=(r=t.tolerate_time)?r:10))return!1;s=l.ts,a++}o++}return a===i.length}matchPaths(e,t){return t.filter((t=>this.matchPath(e,t)))}matchAndTriggerCallback(){if(this.callbackExecuted)return;const e=this.remoteConfig.feConfig||{},t=this.matchedPath.length>0?this.matchedPath[0].id.toString():"",n=this.btmBId;(t&&this.matchTrajectoryConfig(t,e.trajectory_config)||n&&this.matchPageConfig(n,e.page_config))&&(this.callbackExecuted=!0)}matchTrajectoryConfig(e,t){if(t&&t[e]){const n=t[e];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];for(const e of t)this.setCallbackWithTimer(e)}return!0}return!1}matchPageConfig(e,t){if(t&&t[e]){const n=t[e];for(const e of n)this.setCallbackWithTimer(e);return!0}return!1}executeCallback(e){var t,n,r,i,o;if("deeplink"===e.callbackType)null==(r=null==(n=null==(t=this.callback)?void 0:t.deeplinkConfig)?void 0:n.onTrigger)||r.call(n,e.params);const a={event_type:e.callbackType,event_data:_t({},e),url:window.location.href,matched_path:this.matchedPath||[],btm:this.actionBtm,btm_b:this.btmBId};null==(o=null==(i=this.BtmCore)?void 0:i.tea)||o.report({eventName:"btm_behavior_event",eventParams:a})}setCallbackWithTimer(e){var t;this.activeTimer&&clearTimeout(this.activeTimer);const n=null!=(t=e.toleranceTime)?t:0;this.activeTimer=setTimeout((()=>{this.executeCallback(e)}),n)}};const Et=`${window.location.origin}/api/v1/session_replay`,Ct=`${window.location.origin}/api/v1/ttp/session_replay`;var It=(e=>(e.ON_CALL_AUTHORISE_POPUP="on_call_session_replay_authorise_popup",e.ON_CALL_RECORDING_POPUP="on_call_session_replay_recording_popup",e.USER_RESEARCH_AUTHORISE_POPUP="user_research_session_replay_authorise_popup",e))(It||{}),kt=(e=>(e.ON_CALL_AUTHORISE_REPLAY="on_call_session_replay_authorise_btn",e.ON_CALL_FINISH_RECORDING="on_call_session_replay_finish_recording_btn",e.ON_CALL_NO_AUTH="on_call_session_replay_no_authorise_btn",e.USER_RESEARCH_AUTHORISE_REPLAY="user_research_session_replay_authorise_btn",e.USER_RESEARCH_NO_AUTH_REPLAY="user_research_session_replay_no_authorise_btn",e))(kt||{});var xt=(e=>(e.STANDARD_RECORDER="__GecSessionReplayStandardRecorder",e.BLACKBOX_RECORDER="__GecSessionReplayBlackboxRecorder",e.BLACKBOX_RECORDER_INSTANCE="__GecSessionReplayBlackboxRecorderInstance",e.SAVE_BLACKBOX_RECORDING="__GecSessionReplaySaveBlackboxRecording",e.EXPERIMENTS="__GecSessionReplayExperiments",e))(xt||{}),Rt=n(64399);const Tt=()=>{var e;const t=null==(e=null==window?void 0:window.__GlobalSessionReplayRecordingContext)?void 0:e.id;return t?{recordingId:t,isRecording:!0}:{recordingId:"",isRecording:!1}},St=e=>{return t=void 0,n=null,r=function*(){var t;try{return(null==window?void 0:window[xt.SAVE_BLACKBOX_RECORDING])?yield null==(t=null==window?void 0:window[xt.SAVE_BLACKBOX_RECORDING])?void 0:t.call(window,e):void Rt.error("Session Replay - Blackbox recording not initialized yet")}catch(n){Rt.error(n,"Session Replay - Error saving blackbox recording")}},new Promise(((e,i)=>{var o=e=>{try{s(r.next(e))}catch(t){i(t)}},a=e=>{try{s(r.throw(e))}catch(t){i(t)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,a);s((r=r.apply(t,n)).next())}));var t,n,r};var Ot=n(38e3),Nt=n(67308),At=n(72489),Bt=(e=>(e.ACTIVE="active",e.INACTIVE="inactive",e.LISTENING="listening",e))(Bt||{});var Pt=()=>{const[e,t]=(0,Nt.useState)(`${window.location.pathname}${window.location.search}`);return(0,Nt.useEffect)((()=>{const e=()=>{t(`${window.location.pathname}${window.location.search}`)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),e.toString()};const Dt=(e,t)=>{try{if(!e)throw new Error("Invalid input");return JSON.parse(e)}catch(n){return t}};const Mt="__session-replay-user-research-authorisation",Lt="__session-replay-recorded-sessions";var jt=(e=>(e.AUTHORISED="authorised",e.NOT_AUTHORISED="not-authorised",e.PENDING_AUTHORISATION="pending-authorisation",e))(jt||{});const Ut=(e,t)=>{var n;if(Ht(t))return!1;const r=null!=(n=null==t?void 0:t.map((e=>e.enablesPages)).flat())?n:[];return!!(null==r?void 0:r.includes(e))||!!(null==r?void 0:r.includes("*"))},Ht=e=>{var t,n,r;const i=null!=(n=null==(t=null==e?void 0:e[0])?void 0:t.maxPerDay)?n:10,o=new Date,a=`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}`,s=null!=(r=window.localStorage.getItem(`${Lt}`))?r:"",l=Dt(s,{date:a,numSessionsRecordedToday:0});return(null==l?void 0:l.date)===a&&(null==l?void 0:l.numSessionsRecordedToday)>=i},Gt=(e,t)=>{window.localStorage.setItem(`${Mt}-${t}`,e.toString())},zt=(0,At.A)((e=>{var t,n,r,i,o;return{userLang:null!=(t=null==e?void 0:e.userLang)?t:"en",uid:null!=(n=null==e?void 0:e.uid)?n:"",userCountry:null!=(r=null==e?void 0:e.userCountry)?r:"",appId:null!=(i=null==e?void 0:e.appId)?i:-1,skipExperimentAuthorisation:null!=(o=null==e?void 0:e.skipExperimentAuthorisation)&&o,btm:null==e?void 0:e.btm,teaCollectEvent:void 0,teaCallbackOn:void 0,teaCallbackOff:void 0,teaSessionId:void 0}}));var Kt=zt.useContext,Vt=n(90087);class Wt extends tt.Xk{constructor(){super(/^.*$/,"*")}maskSubstring(e,t){if(e.match(/(\d{1,2} [a-zA-Z]{3}, \d{4})|([a-zA-Z]{3} \d{1,2}, \d{4})/))return e;const n=window.__I18NSPECT_REVERSE_INDEX__;return n?n[e]?e:e.replace(/./g,t):e.replace(/\d/g,t)}}var Ft=Wt;const $t=(e,t)=>{return n=void 0,r=null,i=function*(){const n=`${"US"===(null==t?void 0:t.toUpperCase())?Ct:Et}/get_auth_token`,r=new Headers;r.append("Content-Type","application/json");const i={method:"POST",body:JSON.stringify({uid:e}),headers:r,credentials:"omit"},o=yield fetch(n,i);return 200===o.status?{status:200,data:yield o.json()}:{status:o.status,data:{recordingId:"",token:""}}},new Promise(((e,t)=>{var o=e=>{try{s(i.next(e))}catch(n){t(n)}},a=e=>{try{s(i.throw(e))}catch(n){t(n)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,a);s((i=i.apply(n,r)).next())}));var n,r,i};var Yt=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{s(n.next(e))}catch(t){i(t)}},a=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}));const Jt=(0,At.A)((e=>{const t=null==e?void 0:e.region,[n,r]=(0,Nt.useState)(""),[i,o]=(0,Nt.useState)(!1),a="US"===(null==t?void 0:t.toLocaleUpperCase()),s=new Ft,l=new Vt.Kr({trackers:["HTML","Mouse","Console","Error","Network","Insight"],network:{captureResponseBody:!1,captureRequestBody:!0},environment:{type:a?"PROD-PUBLIC-US-TTP":"PROD-PUBLIC-VA-TT"},html:{dataMasks:[s]}}),u=new Vt.Kr({trackers:["HTML","Mouse","Console","Error","Network","Insight","Performance"],network:{captureResponseBody:!1,captureRequestBody:!0},environment:{type:a?"PROD-PUBLIC-US-TTP":"PROD-PUBLIC-VA-TT"},html:{dataMasks:[s]},blackbox:{bufferTime:3e5}});window[xt.BLACKBOX_RECORDER_INSTANCE]=u;const{uid:c}=Kt(),d=()=>Yt(void 0,null,(function*(){try{o(!1);const e=window[xt.STANDARD_RECORDER];yield null==e?void 0:e.stopRecording(),window[xt.STANDARD_RECORDER]=void 0}catch(e){window[xt.STANDARD_RECORDER]=void 0}}));(0,Nt.useEffect)((()=>()=>{d()}),[]);const h=(0,Nt.useMemo)((()=>({id:n,isRecording:i})),[n,i]);return{stopRecording:d,record:()=>Yt(void 0,null,(function*(){try{const{recordingId:e,token:n}=(yield $t(c,null!=t?t:"")).data,i=yield l.startRecording({id:e.toString(),token:n,mode:tt.$u.Streaming});return window[xt.STANDARD_RECORDER]=i,o(!0),r(e.toString()),e.toString()}catch(e){return void o(!1)}})),recordingMetaInfo:h,isRecording:i,startBlackboxRecording:()=>Yt(void 0,null,(function*(){try{const{recordingId:e,token:n}=(yield $t(c,null!=t?t:"")).data,r=yield u.startRecording({id:e.toString(),token:n,mode:tt.$u.Blackbox});return window[xt.BLACKBOX_RECORDER]=r,e.toString()}catch(e){return}})),dumpBlackboxRecording:()=>Yt(void 0,null,(function*(){try{if(window[xt.BLACKBOX_RECORDER]){const{recordingId:e,token:n}=(yield $t(c,null!=t?t:"")).data;window[xt.BLACKBOX_RECORDER]._dumpConfig={id:e.toString(),token:n};const r=window[xt.BLACKBOX_RECORDER];return yield null==r?void 0:r.dumpRecording()}return}catch(e){return}}))}}));var qt=Jt.useContext,Xt=n(64399),Qt=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{s(n.next(e))}catch(t){i(t)}},a=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}));const Zt=(e,t)=>Qt(void 0,null,(function*(){const n=`${"US"===(null==t?void 0:t.toUpperCase())?Ct:Et}/create_user_research_session`,r=new Headers;r.append("Content-Type","application/json");const i={method:"POST",headers:r,body:JSON.stringify(e),credentials:"omit"};try{const e=yield fetch(n,i);return{status:e.status,data:200===e.status?"Success":"Error"}}catch(o){return Xt.error("Error updating session link",o),{status:200,data:"Error"}}}));var en=n(64399),tn=Object.defineProperty,nn=Object.defineProperties,rn=Object.getOwnPropertyDescriptors,on=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,ln=(e,t,n)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,un=(e,t)=>{for(var n in t||(t={}))an.call(t,n)&&ln(e,n,t[n]);if(on)for(var n of on(t))sn.call(t,n)&&ln(e,n,t[n]);return e},cn=(e,t)=>nn(e,rn(t));const dn=(0,At.A)((e=>{var t,n,r;const{teaCallbackOn:i,teaCallbackOff:o,uid:a,btm:s,userCountry:l,teaSessionId:u}=Kt(),{startBlackboxRecording:c,dumpBlackboxRecording:d}=qt(),h=Nt.useRef(),m=Nt.useRef({}),p=Pt(),[f,v]=Nt.useState(e?cn(un({},e),{allExperiments:null!=(t=null==e?void 0:e.allExperiments)?t:[],relevantExperiments:null!=(r=null==(n=null==e?void 0:e.allExperiments)?void 0:n.filter((e=>{var t,n;return(null==(t=null==e?void 0:e.uids)?void 0:t.includes(a))||(null==(n=null==e?void 0:e.uids)?void 0:n.includes("*"))})))?r:[]}):{});Nt.useEffect((()=>{h.current=f.relevantExperiments}),[f.relevantExperiments]);const g=e=>{return t=void 0,n=null,r=function*(){var t,n;try{const r=yield d();return r&&Zt({sessionId:r,userId:a,path:[window.location.pathname],countryCode:null!=l?l:"",experimentIds:[e.toString()],startTime:Date.now()+"",teaSessionId:null!=u?u:null==(n=null==(t=null==window?void 0:window.Tea)?void 0:t.sessionManager)?void 0:n.getSessionId()},null!=l?l:"sg"),r}catch(r){return}},new Promise(((e,i)=>{var o=e=>{try{s(r.next(e))}catch(t){i(t)}},a=e=>{try{s(r.throw(e))}catch(t){i(t)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,a);s((r=r.apply(t,n)).next())}));var t,n,r},b=e=>{var t,n,r;const i=m.current[e.experimentId];if(i&&(o?o("event",i):null==(t=window.Tea)||t.off("event",i),m.current[e.experimentId]=void 0),null==(n=null==h?void 0:h.current)?void 0:n.find((t=>t.experimentId===e.experimentId&&t.experimentStatus===Bt.ACTIVE)))return;const a=null==(r=null==f?void 0:f.relevantExperiments)?void 0:r.map((t=>(t.experimentId===e.experimentId&&(t.experimentStatus=Bt.ACTIVE),t)));v((e=>cn(un({},e),{relevantExperiments:a})))},y=Nt.useCallback((e=>{var t;const n=null!=(t=null==s?void 0:s.getCurrentPageBId(p))?t:p,r=e.map((e=>{var t,r,a;const s=e.recordingStartBtmPoints||e.journeyEntryPage||e.blackBoxTriggers;switch(null==e?void 0:e.experimentStatus){case Bt.ACTIVE:return Ut(n,[e])||(e.experimentStatus=Bt.INACTIVE),e;case Bt.LISTENING:if(!Ut(n,[e])){e.experimentStatus=Bt.INACTIVE;const n=m.current[e.experimentId];n&&(o?o("event",n):null==(t=window.Tea)||t.off("event",n),m.current[e.experimentId]=void 0)}return e;default:if(s&&Ut(n,[e])){e.experimentStatus=Bt.LISTENING;const t=t=>{var n,r,i,o,a,s,l;const u=null==t?void 0:t[0];if((null==u?void 0:u.event).includes("btm")){const t=(null==(n=null==u?void 0:u.params)?void 0:n.btm)?null==(r=null==u?void 0:u.params)?void 0:r.btm:null==(i=Dt(null==u?void 0:u.params,{btm:""}))?void 0:i.btm;(null==(o=e.recordingStartBtmPoints)?void 0:o.includes(t))&&b(e),(null==(a=e.journeyEntryPage)?void 0:a.includes(t))&&b(e),(null==(s=e.blackBoxTriggers)?void 0:s.includes(t))&&g(null==(l=e.experimentId)?void 0:l.toString())}};m.current[e.experimentId]=t,i?null==i||i("event",t):null==(a=null==(r=null==window?void 0:window.Tea)?void 0:r.on)||a.call(r,"event",t)}return s||Ut(n,[e])&&(e.experimentStatus=Bt.ACTIVE),e}}));v((e=>cn(un({},e),{relevantExperiments:r})))}),[i,s,p]);Nt.useEffect((()=>{var e;en.log("[SR] Hooks",null==m?void 0:m.current),y(null!=(e=f.relevantExperiments)?e:[])}),[p,s,null==e?void 0:e.relevantExperiments,a]),Nt.useEffect((()=>{(null==e?void 0:e.enableSessionReplay)&&(c(),window[xt.SAVE_BLACKBOX_RECORDING]=g)}),[]);const _=Nt.useMemo((()=>{var e;return null==(e=f.relevantExperiments)?void 0:e.filter((e=>e.experimentStatus===Bt.ACTIVE))}),[f.relevantExperiments]),w=Nt.useMemo((()=>{var e;return null==(e=f.relevantExperiments)?void 0:e.filter((e=>e.experimentStatus===Bt.INACTIVE))}),[f.relevantExperiments]),E=Nt.useMemo((()=>{var e;return null==(e=f.relevantExperiments)?void 0:e.filter((e=>e.experimentStatus===Bt.LISTENING))}),[f.relevantExperiments]);return window[xt.EXPERIMENTS]={activeExperiments:_,inactiveExperiments:w,listeningExperiments:E,internalExperiments:f},{internalExperiments:f,setInternalExperiments:v,activateExperiment:b,deactivateExperiment:e=>{var t;const n=null==(t=null==f?void 0:f.relevantExperiments)?void 0:t.map((t=>{var n;return e.includes(null==(n=t.experimentId)?void 0:n.toString())&&(t.experimentStatus=Bt.INACTIVE),t}));v((e=>cn(un({},e),{relevantExperiments:n})))},setActiveExperiments:e=>{v((t=>cn(un({},t),{activeExperiments:e})))},activeExperiments:_,inactiveExperiments:w,listeningExperiments:E}}));var hn=dn.useContext,mn=n(39190);const pn={InitialisingRecording:{en:"Setting up log tracking for smoother experiences.","en-GB":"Setting up log tracking for smoother experiences.","ms-MY":"Mengatur pelacakan log untuk pengalaman yang lebih lancar.","th-TH":"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e17\u0e35\u0e48\u0e23\u0e32\u0e1a\u0e23\u0e37\u0e48\u0e19\u0e21\u0e32\u0e01\u0e02\u0e36\u0e49\u0e19.","vi-VN":"Thi\u1ebft l\u1eadp theo d\xf5i nh\u1eadt k\xfd \u0111\u1ec3 tr\u1ea3i nghi\u1ec7m m\u01b0\u1ee3t m\xe0 h\u01a1n.","id-ID":"Mengatur pelacakan log untuk pengalaman yang lebih mulus.","zh-CN":"\u6b63\u5728\u8bbe\u7f6e\u65e5\u5fd7\u8ddf\u8e2a\u4ee5\u6539\u5584\u4f53\u9a8c\u3002"},DebugModeDescription:{en:"Your logs are currently being sent to aid us in improving your experience.","en-GB":"Your logs are currently being sent to aid us in improving your experience.","ms-MY":"Log anda kini sedang dihantar untuk membantu kami dalam meningkatkan pengalaman anda.","th-TH":"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e16\u0e39\u0e01\u0e2a\u0e48\u0e07\u0e44\u0e1b\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e40\u0e23\u0e32\u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13.","vi-VN":"C\xe1c b\u1ea3n ghi c\u1ee7a b\u1ea1n hi\u1ec7n \u0111ang \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ec3 h\u1ed7 tr\u1ee3 ch\xfang t\xf4i c\u1ea3i thi\u1ec7n tr\u1ea3i nghi\u1ec7m c\u1ee7a b\u1ea1n.","id-ID":"Log Anda saat ini dikirimkan untuk membantu kami meningkatkan pengalaman Anda.","zh-CN":"\u60a8\u7684\u65e5\u5fd7\u6b63\u5728\u53d1\u9001\uff0c\u4ee5\u5e2e\u52a9\u6211\u4eec\u6539\u8fdb\u60a8\u7684\u4f53\u9a8c\u3002"},DebugModeTitle:{en:"You are in debug mode.","en-GB":"You are in debug mode.","ms-MY":"Anda berada dalam mod debug.","th-TH":"\u0e04\u0e38\u0e13\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01.","vi-VN":"B\u1ea1n \u0111ang \u1edf ch\u1ebf \u0111\u1ed9 debug.","id-ID":"Anda berada dalam mode debug.","zh-CN":"\u60a8\u6b63\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e2d\u3002"},DebugIdTitle:{en:"Debug ID","en-GB":"Debug ID","ms-MY":"ID Debug","th-TH":"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e32\u0e23\u0e14\u0e35\u0e1a\u0e31\u0e01","vi-VN":"ID G\u1ee1 l\u1ed7i","id-ID":"ID Debug","zh-CN":"\u8c03\u8bd5 ID"},InitialisingDebugModeTitle:{en:"Initializing Debug Mode...","en-GB":"Initialising Debug Mode...","ms-MY":"Memulakan Mod Debug...","th-TH":"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01...","vi-VN":"\u0110ang kh\u1edfi t\u1ea1o Ch\u1ebf \u0111\u1ed9 G\u1ee1 l\u1ed7i...","id-ID":"Menginisialisasi Mode Debug...","zh-CN":"\u521d\u59cb\u5316\u8c03\u8bd5\u6a21\u5f0f..."},ExitButton:{en:"Exit","en-GB":"Exit","ms-MY":"Keluar","th-TH":"\u0e2d\u0e2d\u0e01","vi-VN":"Tho\xe1t","id-ID":"Keluar","zh-CN":"\u9000\u51fa"},ExitDebugModeButton:{en:"Exit debug mode","en-GB":"Exit debug mode","ms-MY":"Keluar mod debug","th-TH":"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01","vi-VN":"Tho\xe1t ch\u1ebf \u0111\u1ed9 debug","id-ID":"Keluar dari mode debug","zh-CN":"\u9000\u51fa\u8c03\u8bd5\u6a21\u5f0f"},ExitDebugModeSuccessMessage:{en:"Successfully exited debug mode. Recording has stopped.","en-GB":"Successfully exited debug mode. Recording has stopped.","ms-MY":"Berjaya keluar dari mod debug. Perekaman telah berhenti.","th-TH":"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22\u0e41\u0e25\u0e49\u0e27 \u0e01\u0e32\u0e23\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e44\u0e14\u0e49\u0e2b\u0e22\u0e38\u0e14\u0e41\u0e25\u0e49\u0e27","vi-VN":"\u0110\xe3 tho\xe1t th\xe0nh c\xf4ng kh\u1ecfi ch\u1ebf \u0111\u1ed9 debug. Vi\u1ec7c ghi l\u1ea1i \u0111\xe3 d\u1eebng l\u1ea1i.","id-ID":"Berhasil keluar dari mode debug. Perekaman telah berhenti.","zh-CN":"\u6210\u529f\u9000\u51fa\u8c03\u8bd5\u6a21\u5f0f\u3002\u5f55\u5236\u5df2\u505c\u6b62\u3002"},ExitDebugModeFailureMessage:{en:"Failed to send logs. Please try again later.","en-GB":"Failed to send logs. Please try again later.","ms-MY":"Gagal menghantar log. Sila cuba lagi kemudian.","th-TH":"\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2a\u0e48\u0e07\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e44\u0e14\u0e49 \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07\u0e43\u0e19\u0e20\u0e32\u0e22\u0e2b\u0e25\u0e31\u0e07.","vi-VN":"Kh\xf4ng th\u1ec3 g\u1eedi log. Vui l\xf2ng th\u1eed l\u1ea1i sau.","id-ID":"Gagal mengirim log. Silakan coba lagi nanti.","zh-CN":"\u65e0\u6cd5\u53d1\u9001\u65e5\u5fd7\u3002\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"},AboutToEnterDebugMode:{en:"You are about to enter debug mode.","en-GB":"You are about to enter debug mode.","ms-MY":"Anda akan memasuki mod debug.","th-TH":"\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e08\u0e30\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01.","vi-VN":"B\u1ea1n s\u1eafp v\xe0o ch\u1ebf \u0111\u1ed9 debug.","id-ID":"Anda akan masuk mode debug.","zh-CN":"\u60a8\u5373\u5c06\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f\u3002"},EnterDebugMode:{en:"Enter debug mode","en-GB":"Enter debug mode","ms-MY":"Masuk mod debug","th-TH":"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01","vi-VN":"V\xe0o ch\u1ebf \u0111\u1ed9 debug","id-ID":"Masuk mode debug","zh-CN":"\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f"},AuthorizationMessage:{en:"To facilitate debugging, we will record your interactions with our page once you enter debug mode. Any sensitive data will be censored before recording. These recorded logs will only be used to improve your experience on our platform and will not be shared with any third party. You will be able to exit debug mode at any time. \n    These are the additional tracking points that we will be recording during debug mode:\n    \n\n 1. HTML DOM Tree Update Events\n    \n 2. Mouse Movement Events\n    \n 3. Console Events\n    \n 4. Network Events\n    \n 5. Keyboard Events (Excluding any keyboard events used in data entry)","en-GB":"To facilitate debugging, we will record your interactions with our page once you enter debug mode. Any sensitive data will be censored before recording. These recorded logs will only be used to improve your experience on our platform and will not be shared with any third party. You will be able to exit debug mode at any time. \n    These are the additional tracking points that we will be recording during debug mode:\n    \n\n 1. HTML DOM Tree Update Events\n    \n 2. Mouse Movement Events\n    \n 3. Console Events\n    \n 4. Network Events\n    \n 5. Keyboard Events (Excluding any keyboard events used in data entry)","ms-MY":"Untuk memudahkan penyelesaian masalah, kami akan merakam interaksi anda dengan laman kami sebaik sahaja anda memasuki mod debug. Sebarang data sensitif akan disensor sebelum dirakam. Log yang dirakam ini hanya akan digunakan untuk meningkatkan pengalaman anda di platform kami dan tidak akan dikongsi dengan mana-mana pihak ketiga. Anda boleh keluar dari mod debug pada bila-bila masa.\n    Berikut adalah titik-titik penjejakan tambahan yang akan kami rakam semasa mod debug:\n    \n\n 1. Acara Kemas Kini Pohon DOM HTML\n    \n 2. Acara Gerakan Tetikus\n    \n 3. Acara Konsol\n    \n 4. Acara Jaringan\n    \n 5. Acara Papan Kekunci (Kecuali sebarang acara papan kekunci yang digunakan dalam entri data)","th-TH":"\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e43\u0e2b\u0e49\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e07\u0e48\u0e32\u0e22\u0e02\u0e36\u0e49\u0e19, \u0e40\u0e23\u0e32\u0e08\u0e30\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e42\u0e15\u0e49\u0e15\u0e2d\u0e1a\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e01\u0e31\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e38\u0e13\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01 \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e35\u0e48\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e2d\u0e48\u0e2d\u0e19\u0e43\u0e14 \u0e46 \u0e08\u0e30\u0e16\u0e39\u0e01\u0e40\u0e0b\u0e47\u0e19\u0e40\u0e0b\u0e2d\u0e23\u0e4c\u0e01\u0e48\u0e2d\u0e19\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01 \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e17\u0e35\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e08\u0e30\u0e16\u0e39\u0e01\u0e43\u0e0a\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e1a\u0e19\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19\u0e41\u0e25\u0e30\u0e08\u0e30\u0e44\u0e21\u0e48\u0e41\u0e0a\u0e23\u0e4c\u0e01\u0e31\u0e1a\u0e1a\u0e38\u0e04\u0e04\u0e25\u0e17\u0e35\u0e48\u0e2a\u0e32\u0e21 \u0e04\u0e38\u0e13\u0e08\u0e30\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01\u0e44\u0e14\u0e49\u0e17\u0e38\u0e01\u0e40\u0e27\u0e25\u0e32\n    \u0e19\u0e35\u0e48\u0e04\u0e37\u0e2d\u0e08\u0e38\u0e14\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e30\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e23\u0e30\u0e2b\u0e27\u0e48\u0e32\u0e07\u0e42\u0e2b\u0e21\u0e14\u0e14\u0e35\u0e1a\u0e31\u0e01:\n    \n\n 1. \u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15\u0e15\u0e49\u0e19\u0e44\u0e21\u0e49 DOM \u0e02\u0e2d\u0e07 HTML\n    \n 2. \u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e01\u0e32\u0e23\u0e40\u0e04\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e17\u0e35\u0e48\u0e02\u0e2d\u0e07\u0e40\u0e21\u0e32\u0e2a\u0e4c\n    \n 3. \u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e04\u0e2d\u0e19\u0e42\u0e0b\u0e25\n    \n 4. \u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e40\u0e04\u0e23\u0e37\u0e2d\u0e02\u0e48\u0e32\u0e22\n    \n 5. \u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e04\u0e35\u0e22\u0e4c\u0e1a\u0e2d\u0e23\u0e4c\u0e14 (\u0e44\u0e21\u0e48\u0e23\u0e27\u0e21\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e04\u0e35\u0e22\u0e4c\u0e1a\u0e2d\u0e23\u0e4c\u0e14\u0e43\u0e14 \u0e46 \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49\u0e43\u0e19\u0e01\u0e32\u0e23\u0e1b\u0e49\u0e2d\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25)","vi-VN":"\u0110\u1ec3 t\u1ea1o thu\u1eadn l\u1ee3i cho vi\u1ec7c g\u1ee1 l\u1ed7i, ch\xfang t\xf4i s\u1ebd ghi l\u1ea1i c\xe1c t\u01b0\u01a1ng t\xe1c c\u1ee7a b\u1ea1n v\u1edbi trang c\u1ee7a ch\xfang t\xf4i ngay khi b\u1ea1n b\u01b0\u1edbc v\xe0o ch\u1ebf \u0111\u1ed9 debug. B\u1ea5t k\u1ef3 d\u1eef li\u1ec7u nh\u1ea1y c\u1ea3m n\xe0o s\u1ebd \u0111\u01b0\u1ee3c ki\u1ec3m duy\u1ec7t tr\u01b0\u1edbc khi ghi. Nh\u1eefng nh\u1eadt k\xfd \u0111\u01b0\u1ee3c ghi l\u1ea1i ch\u1ec9 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 c\u1ea3i thi\u1ec7n tr\u1ea3i nghi\u1ec7m c\u1ee7a b\u1ea1n tr\xean n\u1ec1n t\u1ea3ng c\u1ee7a ch\xfang t\xf4i v\xe0 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c chia s\u1ebb v\u1edbi b\u1ea5t k\u1ef3 b\xean th\u1ee9 ba n\xe0o. B\u1ea1n s\u1ebd c\xf3 th\u1ec3 tho\xe1t kh\u1ecfi ch\u1ebf \u0111\u1ed9 debug b\u1ea5t k\u1ef3 l\xfac n\xe0o.\n    D\u01b0\u1edbi \u0111\xe2y l\xe0 c\xe1c \u0111i\u1ec3m theo d\xf5i b\u1ed5 sung m\xe0 ch\xfang t\xf4i s\u1ebd ghi l\u1ea1i trong ch\u1ebf \u0111\u1ed9 debug:\n    \n\n 1. S\u1ef1 ki\u1ec7n C\u1eadp nh\u1eadt C\xe2y DOM HTML\n    \n 2. S\u1ef1 ki\u1ec7n Di chuy\u1ec3n chu\u1ed9t\n    \n 3. S\u1ef1 ki\u1ec7n Console\n    \n 4. S\u1ef1 ki\u1ec7n M\u1ea1ng\n    \n 5. S\u1ef1 ki\u1ec7n B\xe0n ph\xedm (Tr\u1eeb b\u1ea5t k\u1ef3 s\u1ef1 ki\u1ec7n b\xe0n ph\xedm n\xe0o \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong nh\u1eadp d\u1eef li\u1ec7u)","id-ID":"Untuk memudahkan penyelesaian masalah, kami akan merekam interaksi Anda dengan halaman kami begitu Anda masuk ke mode debug. Semua data sensitif akan disensor sebelum direkam. Data yang direkam ini hanya akan digunakan untuk meningkatkan pengalaman Anda di platform kami dan tidak akan dibagikan dengan pihak ketiga mana pun. Anda dapat keluar dari mode debug kapan saja.\n    Berikut adalah titik pelacakan tambahan yang akan kami rekam selama mode debug:\n    \n\n 1. Pembaruan Pohon DOM HTML\n    \n 2. Gerakan Mouse\n    \n 3. Konsol\n    \n 4. Jaringan\n    \n 5. Keyboard (Mengecualikan event keyboard apa pun yang digunakan dalam entri data)","zh-CN":"\u4e3a\u4e86\u65b9\u4fbf\u8c03\u8bd5\uff0c\u4e00\u65e6\u60a8\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f\uff0c\u6211\u4eec\u5c06\u8bb0\u5f55\u60a8\u4e0e\u6211\u4eec\u9875\u9762\u7684\u4ea4\u4e92\u3002\u5728\u8bb0\u5f55\u4e4b\u524d\uff0c\u4efb\u4f55\u654f\u611f\u6570\u636e\u90fd\u5c06\u88ab\u8131\u654f\u3002\u8fd9\u4e9b\u8bb0\u5f55\u7684\u65e5\u5fd7\u4ec5\u7528\u4e8e\u6539\u5584\u60a8\u5728\u6211\u4eec\u5e73\u53f0\u4e0a\u7684\u4f53\u9a8c\uff0c\u4e0d\u4f1a\u4e0e\u4efb\u4f55\u7b2c\u4e09\u65b9\u5171\u4eab\u3002\u60a8\u53ef\u4ee5\u968f\u65f6\u9000\u51fa\u8c03\u8bd5\u6a21\u5f0f\u3002\n    \u4ee5\u4e0b\u662f\u6211\u4eec\u5728\u8c03\u8bd5\u6a21\u5f0f\u671f\u95f4\u5c06\u8bb0\u5f55\u7684\u9644\u52a0\u8ddf\u8e2a\u70b9\uff1a\n    \n\n 1. HTML DOM \u6811\u66f4\u65b0\u4e8b\u4ef6\n    \n 2. \u9f20\u6807\u79fb\u52a8\u4e8b\u4ef6\n    \n 3. \u63a7\u5236\u53f0\u4e8b\u4ef6\n    \n 4. \u7f51\u7edc\u4e8b\u4ef6\n    \n 5. \u952e\u76d8\u4e8b\u4ef6\uff08\u4e0d\u5305\u62ec\u7528\u4e8e\u6570\u636e\u8f93\u5165\u7684\u4efb\u4f55\u952e\u76d8\u4e8b\u4ef6\uff09"},UserResearchAuthorisationTitle:{en:"Let's grow together! Your insights shapes our platform.","en-GB":"Let's grow together! Your insights shapes our platform.","ms-MY":"Marilah kita berkembang bersama! Pandangan anda membentuk platform kami.","th-TH":"\u0e21\u0e32\u0e40\u0e15\u0e34\u0e1a\u0e42\u0e15\u0e44\u0e1b\u0e14\u0e49\u0e27\u0e22\u0e01\u0e31\u0e19! \u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e0a\u0e48\u0e27\u0e22\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32.","vi-VN":"H\xe3y c\xf9ng nhau ph\xe1t tri\u1ec3n! \xdd ki\u1ebfn c\u1ee7a b\u1ea1n \u0111\u1ecbnh h\xecnh n\u1ec1n t\u1ea3ng c\u1ee7a ch\xfang t\xf4i.","id-ID":"Mari tumbuh bersama! Wawasan Anda membentuk platform kami.","zh-CN":"\u8ba9\u6211\u4eec\u4e00\u8d77\u6210\u957f\uff01\u60a8\u7684\u89c1\u89e3\u5851\u9020\u4e86\u6211\u4eec\u7684\u5e73\u53f0\u3002"},UserResearchAuthorisationMessage:{en:"To enhance your experience on our platform, we'd like to send additional logs.     Safeguarding your privacy remains our priority - rest assured that any sensitive information     will be redacted. These logs solely serve to improve our platform and won't be     shared with third parties. The additional events are:     HTML DOM Tree Update Events, Mouse Movement Events, Console Events, Network Events and Keyboard     Events (Excluding any keyboard events used in data entry).","en-GB":"To enhance your experience on our platform, we'd like to send additional logs.     Safeguarding your privacy remains our priority - rest assured that any sensitive information     will be redacted. These logs solely serve to improve our platform and won't be     shared with third parties. The additional events are:     HTML DOM Tree Update Events, Mouse Movement Events, Console Events, Network Events and Keyboard     Events (Excluding any keyboard events used in data entry).","ms-MY":"Untuk memperbaiki pengalaman anda di platform kami, kami ingin menghantar log tambahan.     Melindungi privasi anda tetap menjadi keutamaan kami - yakinlah bahawa sebarang maklumat sensitif     akan diserap. Log ini hanya bertujuan untuk meningkatkan platform kami dan tidak akan     dikongsi dengan pihak ketiga. Acara tambahan adalah: Acara Kemas Kini Pohon DOM HTML, Acara Gerakan Tetikus,     Acara Konsol, Acara Jaringan, Acara Papan Kekunci (Kecuali sebarang acara papan kekunci     yang digunakan dalam entri data).","th-TH":"\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e1a\u0e19\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32 \u0e40\u0e23\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e44\u0e1b\u0e43\u0e2b\u0e49\u0e04\u0e38\u0e13     \u0e01\u0e32\u0e23\u0e04\u0e38\u0e49\u0e21\u0e04\u0e23\u0e2d\u0e07\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e22\u0e31\u0e07\u0e04\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e34\u0e48\u0e07\u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e43\u0e2b\u0e49\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e33\u0e04\u0e31\u0e0d - \u0e42\u0e1b\u0e23\u0e14\u0e21\u0e31\u0e48\u0e19\u0e43\u0e08\u0e27\u0e48\u0e32\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e35\u0e48\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e2d\u0e48\u0e2d\u0e19\u0e43\u0e14 \u0e46     \u0e08\u0e30\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e17\u0e34\u0e49\u0e07 \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e21\u0e35\u0e08\u0e38\u0e14\u0e1b\u0e23\u0e30\u0e2a\u0e07\u0e04\u0e4c\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32\u0e41\u0e25\u0e30\u0e08\u0e30\u0e44\u0e21\u0e48     \u0e16\u0e39\u0e01\u0e41\u0e0a\u0e23\u0e4c\u0e01\u0e31\u0e1a\u0e1a\u0e38\u0e04\u0e04\u0e25\u0e17\u0e35\u0e48\u0e2a\u0e32\u0e21 \u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e17\u0e35\u0e48\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e0b\u0e36\u0e48\u0e07\u0e08\u0e30\u0e16\u0e39\u0e01\u0e23\u0e27\u0e21\u0e40\u0e02\u0e49\u0e32\u0e44\u0e1b\u0e43\u0e19\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e19\u0e35\u0e49 \u0e44\u0e14\u0e49\u0e41\u0e01\u0e48 \u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15 HTML DOM Tree, \n    \u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e01\u0e32\u0e23\u0e40\u0e04\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e44\u0e2b\u0e27\u0e02\u0e2d\u0e07\u0e40\u0e21\u0e32\u0e2a\u0e4c, \u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e02\u0e2d\u0e07 Console, \u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21 Network \u0e41\u0e25\u0e30 \u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e02\u0e2d\u0e07\u0e04\u0e35\u0e22\u0e4c\u0e1a\u0e2d\u0e23\u0e4c\u0e14     (\u0e22\u0e01\u0e40\u0e27\u0e49\u0e19\u0e01\u0e34\u0e08\u0e01\u0e23\u0e23\u0e21\u0e04\u0e35\u0e22\u0e4c\u0e1a\u0e2d\u0e23\u0e4c\u0e14\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e43\u0e0a\u0e49\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e1b\u0e49\u0e2d\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25).","vi-VN":"\u0110\u1ec3 n\xe2ng cao tr\u1ea3i nghi\u1ec7m c\u1ee7a b\u1ea1n tr\xean n\u1ec1n t\u1ea3ng c\u1ee7a ch\xfang t\xf4i, ch\xfang t\xf4i mu\u1ed1n g\u1eedi th\xeam c\xe1c b\u1ea3n ghi.     B\u1ea3o v\u1ec7 quy\u1ec1n ri\xeang t\u01b0 c\u1ee7a b\u1ea1n v\u1eabn l\xe0 \u01b0u ti\xean h\xe0ng \u0111\u1ea7u c\u1ee7a ch\xfang t\xf4i - h\xe3y y\xean t\xe2m r\u1eb1ng b\u1ea5t k\u1ef3 th\xf4ng tin nh\u1ea1y c\u1ea3m n\xe0o     s\u1ebd b\u1ecb m\u1edd \u0111i. Nh\u1eefng b\u1ea3n ghi n\xe0y ch\u1ec9 ph\u1ee5c v\u1ee5 \u0111\u1ec3 c\u1ea3i thi\u1ec7n n\u1ec1n t\u1ea3ng c\u1ee7a ch\xfang t\xf4i v\xe0 s\u1ebd kh\xf4ng     \u0111\u01b0\u1ee3c chia s\u1ebb v\u1edbi b\xean th\u1ee9 ba. C\xe1c s\u1ef1 ki\u1ec7n b\u1ed5 sung l\xe0: S\u1ef1 ki\u1ec7n C\u1eadp nh\u1eadt C\xe2y DOM HTML, S\u1ef1 ki\u1ec7n Di chuy\u1ec3n chu\u1ed9t, S\u1ef1 ki\u1ec7n Console, S\u1ef1 ki\u1ec7n M\u1ea1ng, S\u1ef1 ki\u1ec7n B\xe0n ph\xedm     (Tr\u1eeb b\u1ea5t k\u1ef3 s\u1ef1 ki\u1ec7n b\xe0n ph\xedm n\xe0o \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong nh\u1eadp d\u1eef li\u1ec7u).","id-ID":"Untuk meningkatkan pengalaman Anda di platform kami, kami ingin mengirim log tambahan.     Melindungi privasi Anda tetap menjadi prioritas kami - yakinlah bahwa informasi sensitif apa pun     akan dihapus. Log ini hanya berfungsi untuk meningkatkan platform kami dan tidak akan     dibagikan dengan pihak ketiga. Acara tambahan adalah: Pembaruan Pohon DOM HTML, Gerakan Mouse, Konsol, Jaringan, Keyboard     (Mengecualikan event keyboard apa pun yang digunakan dalam entri data).","zh-CN":"\u4e3a\u4e86\u589e\u5f3a\u60a8\u5728\u6211\u4eec\u5e73\u53f0\u4e0a\u7684\u4f53\u9a8c\uff0c\u6211\u4eec\u5e0c\u671b\u53d1\u9001\u989d\u5916\u7684\u65e5\u5fd7\u3002     \u4fdd\u62a4\u60a8\u7684\u9690\u79c1\u4ecd\u7136\u662f\u6211\u4eec\u7684\u9996\u8981\u4efb\u52a1 - \u8bf7\u653e\u5fc3\uff0c\u4efb\u4f55\u654f\u611f\u4fe1\u606f     \u5728\u8bb0\u5f55\u4e4b\u524d\u90fd\u5c06\u88ab\u5220\u9664\u3002\u8fd9\u4e9b\u8bb0\u5f55\u7684\u65e5\u5fd7\u4ec5\u7528\u4e8e\u6539\u8fdb\u6211\u4eec\u7684\u5e73\u53f0\uff0c\u4e0d\u4f1a     \u4e0e\u4efb\u4f55\u7b2c\u4e09\u65b9\u5171\u4eab\u3002\u989d\u5916\u7684\u4e8b\u4ef6\u5305\u62ec\uff1aHTML DOM \u6811\u66f4\u65b0\u4e8b\u4ef6\uff0c\u9f20\u6807\u79fb\u52a8\u4e8b\u4ef6\uff0c\u63a7\u5236\u53f0\u4e8b\u4ef6\uff0c\u7f51\u7edc\u4e8b\u4ef6\u548c\u952e\u76d8     \u4e8b\u4ef6\uff08\u4e0d\u5305\u62ec\u7528\u4e8e\u6570\u636e\u8f93\u5165\u7684\u4efb\u4f55\u952e\u76d8\u4e8b\u4ef6\uff09\u3002"},AcceptAuthorisation:{en:"Accept","en-GB":"Accept","ms-MY":"Terima","th-TH":"\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a","vi-VN":"Ch\u1ea5p nh\u1eadn","id-ID":"Terima","zh-CN":"\u63a5\u53d7"},DeclineAuthorisation:{en:"Decline","en-GB":"Decline","ms-MY":"Tolak","th-TH":"\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18","vi-VN":"T\u1eeb ch\u1ed1i","id-ID":"Tolak","zh-CN":"\u62d2\u7edd"}};var fn="banner_f6fea",vn="modal_f6fea",gn="modalTitle_f6fea",bn="modalText_f6fea",yn="buttonRow_f6fea",_n="secButton_f6fea",wn="priButton_f6fea";var En=e=>{const{setRecordingStatus:t,customAuthorisationComponent:n,uid:r}=e,{userLang:i,teaCollectEvent:o}=Kt();(0,Nt.useEffect)((()=>{null==o||o("section_show",{section:It.USER_RESEARCH_AUTHORISE_POPUP})}),[]);const a=()=>{null==o||o("button_click",{click_for:kt.USER_RESEARCH_AUTHORISE_REPLAY}),Gt(!0,r),t(Dn.AUTHORISED_TO_RECORD)},s=()=>{null==o||o("button_click",{click_for:kt.USER_RESEARCH_NO_AUTH_REPLAY}),Gt(!1,r),t(Dn.NO_AUTHORISATION)},l=pn.UserResearchAuthorisationTitle[i],u=pn.UserResearchAuthorisationMessage[i].split("\n").map(((e,t)=>(0,Ot.jsx)("p",{children:e||(0,Ot.jsx)("br",{})},t))),c=pn.AcceptAuthorisation[i],d=pn.DeclineAuthorisation[i];return n?(0,Ot.jsx)(n,{authorisationTitle:l,authorisationMessageContent:u,authoriseButtonText:c,exitButtonText:d,onAuthorise:a,onExit:s}):(0,Ot.jsx)("div",{className:fn,children:(0,Ot.jsxs)("div",{className:vn,children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:gn,children:l}),(0,Ot.jsx)("div",{className:bn,children:u})]}),(0,Ot.jsxs)("div",{className:yn,children:[(0,Ot.jsx)("button",{onClick:s,className:_n,children:d}),(0,Ot.jsx)("button",{onClick:a,className:wn,children:c})]})]})})},Cn=n(64399),In=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{s(n.next(e))}catch(t){i(t)}},a=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}));var kn=e=>{var t;const{recordingStatus:n,setRecordingStatus:r}=e,[i,o]=Nt.useState(0),{record:a,stopRecording:s,recordingMetaInfo:l,dumpBlackboxRecording:u,startBlackboxRecording:c}=qt(),{activeExperiments:d}=hn(),{uid:h,userCountry:m,btm:p,teaSessionId:f}=Kt(),v=Pt(),g=Math.max(...null!=(t=null==d?void 0:d.map((e=>{var t;return null!=(t=e.maxSessionDurationMinutes)?t:0})))?t:[]),b=g<=0?300:g,y=Nt.useRef(),_=Nt.useCallback((()=>In(void 0,null,(function*(){yield s(),r(Dn.AUTHORISED_TO_RECORD)}))),[r,s]),w=Nt.useCallback((e=>In(void 0,null,(function*(){var t,n;r(Dn.STARTING_RECORDING),o(0);const i=yield a();if(i){const a=Zt({sessionId:i,userId:h,path:[window.location.pathname],countryCode:null!=m?m:"",experimentIds:e,startTime:Date.now()+"",teaSessionId:null!=f?f:null==(n=null==(t=null==window?void 0:window.Tea)?void 0:t.sessionManager)?void 0:n.getSessionId()},null!=m?m:"sg");200===(yield a).status?((()=>{var e;const t=new Date,n=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`,r=null!=(e=window.localStorage.getItem(`${Lt}`))?e:"",i=Dt(r,{date:n,numSessionsRecordedToday:0});let o;o=i.date===n?{date:n,numSessionsRecordedToday:i.numSessionsRecordedToday+=1}:{date:n,numSessionsRecordedToday:1},window.localStorage.setItem(`${Lt}`,JSON.stringify(o))})(),y.current=setInterval((()=>{o((e=>e+1))}),1e3),r(Dn.RECORDING)):(_(),r(Dn.AUTHORISED_TO_RECORD))}else _(),r(Dn.AUTHORISED_TO_RECORD)}))),[r,_,a,v,p,d]),E=Nt.useCallback((e=>In(void 0,null,(function*(){var t,n,i;r(Dn.UPDATING_RECORDING),yield(n={sessionId:null!=(t=null==l?void 0:l.id)?t:"",addPath:[window.location.pathname],experimentIds:e},i=null!=m?m:"",Qt(void 0,null,(function*(){if(!n.sessionId)return;const e=`${"US"===(null==i?void 0:i.toUpperCase())?Ct:Et}/update_user_research_session`,t=new Headers;t.append("Content-Type","application/json");const r={method:"POST",headers:t,body:JSON.stringify(n),credentials:"omit"};try{const t=yield fetch(e,r);return{status:t.status,data:200===t.status?"Success":"Error"}}catch(o){return Xt.error("Error updating session link",o),{status:200,data:"Error"}}}))),r(Dn.RECORDING)}))),[null==l?void 0:l.id,r]),C=()=>In(void 0,null,(function*(){clearInterval(y.current),_()}));return(0,Nt.useEffect)((()=>{i===b&&C()}),[i,b]),(0,Nt.useEffect)((()=>{var e,t,r,i;Cn.log("[SR] Experiments Inside Recorder",d,n);const o=null!=(t=null==(e=null==d?void 0:d.filter((e=>{var t,n;return!(null==(t=e.blackBoxTriggers)?void 0:t.length)&&!(null==(n=e.journeyEntryPage)?void 0:n.length)})))?void 0:e.map((e=>e.experimentId.toString())))?t:[],a=null!=(i=null==(r=null==d?void 0:d.filter((e=>{var t;return null==(t=e.journeyEntryPage)?void 0:t.length})))?void 0:r.map((e=>e.experimentId.toString())))?i:[];n===Dn.RECORDING||n===Dn.STARTING_RECORDING||n===Dn.UPDATING_RECORDING?(null==o?void 0:o.length)||(null==a?void 0:a.length)?E([...o,...a]):_():(null==d?void 0:d.length)&&w([...o,...a])}),[d]),null},xn=function(){var e,t=new URLSearchParams(window.location.search),n=t.get("debug"),r=t.get("already-recording"),i=null!=(e=t.get("groupId"))?e:"";return i?{enableDebug:"true"===(null==n?void 0:n.toLowerCase()),larkGroupId:i,alreadyRecording:"true"===(null==r?void 0:r.toLowerCase())}:{enableDebug:!1,larkGroupId:i,alreadyRecording:!1}},Rn=function(){var e=new URL(window.location.href);e.searchParams.delete("debug"),e.searchParams.delete("groupId"),e.searchParams.delete("already-recording"),window.history.replaceState({},"",e.toString())},Tn=n(79382),Sn=n.n(Tn),On="recordingBanner_04adb",Nn="bannerTitle_04adb",An="bannerDescription_04adb",Bn="debugId_04adb";var Pn=e=>{var t;const{internalExperiments:n,activeExperiments:r,inactiveExperiments:i,listeningExperiments:o}=hn(),{uid:a,btm:s}=Kt(),l=Pt();return(0,Ot.jsx)(Sn(),{children:(0,Ot.jsxs)("div",{className:On,children:[(0,Ot.jsx)("div",{className:Nn,children:(0,Ot.jsxs)("span",{children:[" ",e.recordingStatus," "]})}),(0,Ot.jsxs)("div",{className:Bn,children:["Current UID: ",a]}),(0,Ot.jsxs)("div",{className:Bn,children:["Current BPoint: ",s?null==s?void 0:s.getCurrentPageBId(l):l]}),(0,Ot.jsx)("div",{className:Bn,children:"Relevant Experiments:"}),(0,Ot.jsx)("div",{className:An,children:null==(t=null==n?void 0:n.relevantExperiments)?void 0:t.map((e=>(0,Ot.jsxs)("div",{style:{border:"1px solid black"},children:["Experiment ",e.experimentId,(0,Ot.jsxs)("div",{children:["Page Whitelist: ",e.enablesPages.toString()]}),(0,Ot.jsxs)("div",{children:["UID Whitelist: ",e.uids]}),(0,Ot.jsxs)("div",{children:[" Start Triggers: ",e.recordingStartBtmPoints]}),(0,Ot.jsxs)("div",{children:[" Journey Entry: ",e.journeyEntryPage]})]})))}),(0,Ot.jsx)("div",{className:Bn,children:"Active Experiments:"}),(0,Ot.jsx)("div",{className:An,children:null==r?void 0:r.map((e=>(0,Ot.jsxs)("div",{style:{border:"1px solid black"},children:["Experiment ",e.experimentId,(0,Ot.jsxs)("div",{children:["Page Whitelist: ",e.enablesPages.toString()]}),(0,Ot.jsxs)("div",{children:["UID Whitelist: ",e.uids]}),(0,Ot.jsxs)("div",{children:[" Start Triggers: ",e.recordingStartBtmPoints]}),(0,Ot.jsxs)("div",{children:[" Journey Entry: ",e.journeyEntryPage]})]})))}),(0,Ot.jsx)("div",{className:Bn,children:"Inactive Experiments:"}),(0,Ot.jsx)("div",{className:An,children:null==i?void 0:i.map((e=>(0,Ot.jsxs)("div",{style:{border:"1px solid black"},children:["Experiment ",e.experimentId,(0,Ot.jsxs)("div",{children:["Page Whitelist: ",e.enablesPages.toString()]}),(0,Ot.jsxs)("div",{children:["UID Whitelist: ",e.uids]}),(0,Ot.jsxs)("div",{children:[" Start Triggers: ",e.recordingStartBtmPoints]}),(0,Ot.jsxs)("div",{children:[" Journey Entry: ",e.journeyEntryPage]})]})))}),(0,Ot.jsx)("div",{className:Bn,children:"Listening Experiments:"}),(0,Ot.jsx)("div",{className:An,children:null==o?void 0:o.map((e=>(0,Ot.jsxs)("div",{style:{border:"1px solid black"},children:["Experiment ",e.experimentId,(0,Ot.jsxs)("div",{children:["Page Whitelist: ",e.enablesPages.toString()]}),(0,Ot.jsxs)("div",{children:["UID Whitelist: ",e.uids]}),(0,Ot.jsxs)("div",{children:[" Start Triggers: ",e.recordingStartBtmPoints]})]})))})]})})},Dn=(e=>(e.INIT="INIT",e.GETTING_AUTHORISATION="GETTING_AUTHORISATION",e.AUTHORISED_TO_RECORD="AUTHORISED_TO_RECORD",e.STARTING_RECORDING="STARTING_RECORDING",e.UPDATING_RECORDING="UPDATING_RECORDING",e.RECORDING="RECORDING",e.NO_AUTHORISATION="NO_AUTHORISATION",e))(Dn||{});const Mn=xn();var Ln=e=>{const{internalExperiments:t}=hn(),{relevantExperiments:n}=t,[r,i]=Nt.useState("INIT"),{uid:o,btm:a,skipExperimentAuthorisation:s}=Kt(),{customAuthorisationComponent:l,enableDevTool:u}=e,c=Pt(),d=s?jt.AUTHORISED:((e,t)=>{const n=window.localStorage.getItem(`${Mt}-${t}`);return"true"===n?"authorised":"false"===n?"not-authorised":"pending-authorisation"})(0,o),h=Ht(null!=n?n:[]),m=(null==Mn?void 0:Mn.enableDebug)&&(null==Mn?void 0:Mn.larkGroupId);(0,Nt.useEffect)((()=>{"INIT"===r&&(!m&&d&&!h&&(null==n?void 0:n.length)?(d===jt.AUTHORISED&&i("AUTHORISED_TO_RECORD"),d!==jt.NOT_AUTHORISED?d===jt.PENDING_AUTHORISATION&&i("GETTING_AUTHORISATION"):i("NO_AUTHORISATION")):i("NO_AUTHORISATION"))}),[d,h,n]);const p=a?null==a?void 0:a.getCurrentPageBId(c):c,f=Ut(p,null!=n?n:[]);return"GETTING_AUTHORISATION"===r&&f?(0,Ot.jsxs)(Ot.Fragment,{children:[u&&(0,Ot.jsx)(Pn,{recordingStatus:r}),(0,Ot.jsx)(En,{uid:o,recordingStatus:r,setRecordingStatus:i,customAuthorisationComponent:l})]}):"AUTHORISED_TO_RECORD"===r||"STARTING_RECORDING"===r||"UPDATING_RECORDING"===r||"RECORDING"===r?(0,Ot.jsxs)(Ot.Fragment,{children:[u&&(0,Ot.jsx)(Pn,{recordingStatus:r}),(0,Ot.jsx)(kn,{recordingStatus:r,setRecordingStatus:i,uid:o})]}):u?(0,Ot.jsx)(Pn,{recordingStatus:r}):null},jn="recordingBanner_36cc2",Un="bannerTitle_36cc2",Hn="timer_36cc2",Gn="bannerDescription_36cc2",zn="debugId_36cc2",Kn=n(76310),Vn=n(42793),Wn=n(64399),Fn=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},$n=function(e){return Fn(void 0,null,(0,r.A)().mark((function t(){var n,i,o;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Headers).append("Content-Type","application/json"),i={method:"POST",headers:n,body:JSON.stringify(e)},t.next=5,fetch(Et+"/send_lark_message",i);case 5:return o=t.sent,t.abrupt("return",{status:o.status,data:200===o.status?"Success":"Error"});case 7:case"end":return t.stop()}}),t)})))},Yn=function(e){return Fn(void 0,null,(0,r.A)().mark((function t(){var n,i,o,a;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Et+"/create_oncall_session",(i=new Headers).append("Content-Type","application/json"),o={method:"POST",headers:i,body:JSON.stringify(e),credentials:"omit"},t.prev=4,t.next=7,fetch(n,o);case 7:return a=t.sent,t.abrupt("return",{status:a.status,data:200===a.status?"Success":"Error"});case 11:return t.prev=11,t.t0=t.catch(4),Wn.error("Error updating session link",t.t0),t.abrupt("return",{status:200,data:"Error"});case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))},Jn=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},qn=function(e){e.recordingStatus;var t=e.setRecordingStatus,n=e.customIndicatorComponent,i=Nt.useState(0),a=(0,o.A)(i,2),s=a[0],l=a[1],u=Nt.useState(!1),c=(0,o.A)(u,2),d=c[0],h=c[1],m=Nt.useState(!1),p=(0,o.A)(m,2),f=p[0],v=p[1],g=qt(),b=g.record,y=g.stopRecording,_=g.recordingMetaInfo,w=hn().internalExperiments.larkGroupId,E=Kt(),C=E.userLang,I=E.userCountry,k=E.teaCollectEvent,x=E.uid,R=E.appId,T=Nt.useRef();(0,Nt.useEffect)((function(){null==k||k("section_show",{section:It.ON_CALL_RECORDING_POPUP}),Jn(void 0,null,(0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,b();case 3:(t=e.sent)&&(Yn({sessionId:t,userId:x,path:[window.location.pathname],countryCode:null!=I?I:"",errorType:"oncall",errorInfo:{larkGroupId:null!=w?w:""},region:null!=I?I:"",byteIOAppId:R}),T.current=setInterval((function(){l((function(e){return e+1}))}),1e3),h(!1));case 5:case"end":return e.stop()}}),e)})))}),[]),(0,Nt.useEffect)((function(){300===s&&O()}),[s]);var S=function(e){return Jn(void 0,null,(0,r.A)().mark((function t(){var n,i,o,a;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=window.recordingContext)){t.next=10;break}return o=null==(n=null==i?void 0:i.recording)?void 0:n.id,(new Headers).append("Content-Type","application/json"),a={link:o,groupId:e},t.next=8,$n(a);case 8:200===t.sent.status?Kn.A.success({content:pn.ExitDebugModeSuccessMessage[C]}):Kn.A.error({content:pn.ExitDebugModeFailureMessage[C]});case 10:case"end":return t.stop()}}),t)})))},O=function(){return Jn(void 0,null,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==k||k("button_click",{click_for:kt.ON_CALL_FINISH_RECORDING}),clearInterval(T.current),v(!0),e.next=5,S(null!=w?w:"");case 5:y(),v(!1),t(lr.STOPPED_RECORDING),Rn();case 9:case"end":return e.stop()}}),e)})))},N=function(e){var t=e%60;return Math.floor(e/60)+":"+(t<10?"0"+t:t)}(s),A=d?pn.InitialisingDebugModeTitle[C]:pn.DebugModeTitle[C],B=d?pn.InitialisingRecording[C]:pn.DebugModeDescription[C],P=pn.ExitDebugModeButton[C];return n?(0,Ot.jsx)(n,{secondsRecorded:N,indicatorTitle:A,indicatorMessageContent:B,exitButtonText:P,onExit:O,isInitialiseLoading:d,isSaveRecordingLoading:f}):(0,Ot.jsx)(Sn(),{children:(0,Ot.jsxs)("div",{className:jn,children:[(0,Ot.jsxs)("div",{className:Un,children:[(0,Ot.jsxs)("span",{children:[" ",A," "]}),(0,Ot.jsx)("span",{className:Hn,children:N})]}),(null==_?void 0:_.id)&&(0,Ot.jsxs)("div",{className:zn,children:[pn.DebugIdTitle[C],": ",null==_?void 0:_.id," "]}),(0,Ot.jsx)("div",{className:Gn,children:B}),(0,Ot.jsx)(Vn.A,{type:"primary",onClick:function(){O()},loading:f||d,style:{backgroundColor:"rgb(0, 153, 149)",color:"#fff",fontWeight:500},children:P})]})})},Xn=n(78953),Qn=function(e){var t=e.recordingStatus,n=e.setRecordingStatus,r=e.customAuthorisationComponent,i=Kt(),o=i.userLang,a=i.teaCollectEvent;(0,Nt.useEffect)((function(){null==a||a("section_show",{section:It.ON_CALL_AUTHORISE_POPUP})}),[]);var s=function(){null==a||a("button_click",{click_for:kt.ON_CALL_AUTHORISE_REPLAY}),n(lr.RECORDING)},l=function(){null==a||a("button_click",{click_for:kt.ON_CALL_NO_AUTH}),Rn(),n(lr.NO_AUTHORISATION)},u=pn.AboutToEnterDebugMode[o],c=pn.AuthorizationMessage[o].split("\n").map((function(e,t){return(0,Ot.jsx)("p",{children:e},t)})),d=pn.EnterDebugMode[o];return t===lr.GETTING_AUTHORISATION?r?(0,Ot.jsx)(r,{authorisationTitle:u,authorisationMessageContent:c,authoriseButtonText:d,exitButtonText:"Exit",onAuthorise:s,onExit:l}):(0,Ot.jsx)(Xn.A,{title:u,visible:!0,size:"small",okText:d,cancelText:"Exit",onCancel:l,onOk:s,okButtonProps:{style:{backgroundColor:"rgb(0, 153, 149)",color:"#fff",fontWeight:500}},children:c}):null},Zn=Object.defineProperty,er=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable,or=function(e,t,n){return t in e?Zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ar=function(e,t){for(var n in t||(t={}))rr.call(t,n)&&or(e,n,t[n]);if(nr)for(var r,o=(0,i.A)(nr(t));!(r=o()).done;){n=r.value;ir.call(t,n)&&or(e,n,t[n])}return e},sr=function(e,t){return er(e,tr(t))},lr=function(e){return e.INIT="INIT",e.GETTING_AUTHORISATION="GETTING_AUTHORISATION",e.RECORDING="RECORDING",e.STOPPED_RECORDING="STOPPED_RECORDING",e.NO_AUTHORISATION="NO_AUTHORISATION",e}(lr||{}),ur=function(e){var t=e.customIndicatorComponent,n=e.customAuthorisationComponent,r=qt(),i=r.stopRecording,a=r.recordingMetaInfo,s=hn(),l=s.internalExperiments,u=s.setInternalExperiments,c=l.larkGroupId,d=(0,Nt.useMemo)((function(){return xn()}),[]);(0,Nt.useEffect)((function(){return function(){var e;(null==a?void 0:a.id)&&c&&(i(),$n({link:null!=(e=null==a?void 0:a.id)?e:"",groupId:null!=c?c:""}))}}),[a,c]),(0,Nt.useEffect)((function(){"INIT"===p&&((null==d?void 0:d.enableDebug)&&(null==d?void 0:d.alreadyRecording)?(f("RECORDING"),u(sr(ar({},l),{larkGroupId:null==d?void 0:d.larkGroupId}))):(null==d?void 0:d.enableDebug)&&!(null==d?void 0:d.alreadyRecording)&&(f("GETTING_AUTHORISATION"),u(sr(ar({},l),{larkGroupId:null==d?void 0:d.larkGroupId}))))}),[d]);var h=(0,Nt.useState)("INIT"),m=(0,o.A)(h,2),p=m[0],f=m[1];return"GETTING_AUTHORISATION"===p?(0,Ot.jsx)(Qn,{recordingStatus:p,setRecordingStatus:f,customAuthorisationComponent:n}):"RECORDING"===p?(0,Ot.jsx)(qn,{recordingStatus:p,setRecordingStatus:f,customIndicatorComponent:t}):null},cr=n(64399);class dr extends Nt.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){cr.error("Error boundary caught an error",e,t)}render(){return this.state.hasError?null:this.props.children}}var hr=({children:e})=>{const[t,n]=(0,Nt.useState)(!1);return(0,Nt.useEffect)((()=>{const e=()=>n(!1);return window.addEventListener("resetErrorBoundary",e),()=>{window.removeEventListener("resetErrorBoundary",e)}}),[]),t?null:(0,Ot.jsx)(dr,{children:e})},mr=n(64399),pr=Object.defineProperty,fr=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,gr=Object.prototype.propertyIsEnumerable,br=(e,t,n)=>t in e?pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yr=e=>{var t,n,r,i,o,a,s,l,u,c,d;if(!(null==(t=null==e?void 0:e.sessionReplayUserResearchConfigFromBackend)?void 0:t.enableSessionReplay))return null;mr.log("[SR] Session Replay Renders"),mr.log("[SR] Props",e);const h={allExperiments:null==(n=null==e?void 0:e.sessionReplayUserResearchConfigFromBackend)?void 0:n.experiments,relevantExperiments:[],enableSessionReplay:null==(r=null==e?void 0:e.sessionReplayUserResearchConfigFromBackend)?void 0:r.enableSessionReplay},m={userLang:e.sessionReplayLang,uid:e.sessionReplayUid,userCountry:e.sessionReplayUserCountry,btm:e.btm,teaCollectEvent:e.teaCollectEvent,teaCallbackOn:e.teaCallbackOn,teaCallbackOff:e.teaCallbackOff,appId:e.appId,skipExperimentAuthorisation:e.sessionReplayUserResearchSkipExperimentAuthorisation,teaSessionId:e.teaSessionId},p=(null==(i=null==e?void 0:e.sessionReplayUserResearchConfigFromBackend)?void 0:i.enableSessionReplay)&&(null==(o=null==e?void 0:e.mode)?void 0:o.includes("user-research")),f=(null==(a=null==e?void 0:e.sessionReplayUserResearchConfigFromBackend)?void 0:a.enableSessionReplay)&&(null==(s=null==e?void 0:e.mode)?void 0:s.includes("user-journey")),v=null==(l=null==e?void 0:e.mode)?void 0:l.includes("oncall");if(!p&&!f&&!v)return null;return(0,Ot.jsx)(hr,{children:(0,Ot.jsx)(zt.Provider,{initialState:m,children:(0,Ot.jsx)(Jt.Provider,{initialState:{region:"US"===e.sessionReplayUserCountry.toUpperCase()&&5969===e.appId?"US-BDEE":e.sessionReplayUserCountry},children:(0,Ot.jsxs)(dn.Provider,{initialState:h,children:[p?(0,Ot.jsx)(Ln,{customAuthorisationComponent:null!=(u=null==e?void 0:e.sessionReplayUserResearchAuthorisationComponent)?u:void 0,enableDevTool:null==e?void 0:e.enableDevTool}):null,v?(0,Ot.jsx)(ur,{customAuthorisationComponent:null!=(c=null==e?void 0:e.sessionReplayOncallAuthorisationComponent)?c:void 0,customIndicatorComponent:null!=(d=null==e?void 0:e.sessionReplayOncallIndicatorComponent)?d:void 0}):null]})})})})};var _r=e=>{try{const t=document.createElement("div");document.body.appendChild(t),mn.render((0,Ot.jsx)(yr,((e,t)=>{for(var n in t||(t={}))vr.call(t,n)&&br(e,n,t[n]);if(fr)for(var n of fr(t))gr.call(t,n)&&br(e,n,t[n]);return e})({},e)),t)}catch(t){}},wr=n(39402),Er=n(64492),Cr=n(64399),Ir=Object.defineProperty,kr=Object.defineProperties,xr=Object.getOwnPropertyDescriptors,Rr=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,Or=function(e,t,n){return t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Nr=function(e,t){for(var n in t||(t={}))Tr.call(t,n)&&Or(e,n,t[n]);if(Rr)for(var r,o=(0,i.A)(Rr(t));!(r=o()).done;){n=r.value;Sr.call(t,n)&&Or(e,n,t[n])}return e},Ar=function(e,t){return kr(e,xr(t))},Br=function(e,t,n){return Or(e,"symbol"!==typeof t?t+"":t,n),n},Pr=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},Dr={tiktokshop:4068,ttspc:359713,pearl:5969,i18n_ecom_alliance:4331,i18n_ecom_alliance_im:382170,dbmp:403986,ec_streamer_desktop:253642,creator_platform_app_two:1233,seller_center_app:7743,partner_platform:360019,data_infra_tts:512768,"pearl-miniapp":569738,seller_s_portal:352699,band_compass:474062,ecom_pigeon_i18n:5341,pino_lowcode_platform:619577,ux_insight_platform:623948},Mr=function(){function e(e){Br(this,"devLog",!1),Br(this,"prefix","[BTM logger]"),this.devLog=e}var t=e.prototype;return t.info=function(){if(this.devLog){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=Cr).log.apply(e,[this.prefix].concat(n))}},t.error=function(){if(this.devLog){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=Cr).error.apply(e,[this.prefix].concat(n))}},e}(),Lr={"Content-Type":"application/json"},jr="GET";function Ur(e,t){var n=[];function r(e,t){var i=Object.prototype.toString.call(e);if("[object Array]"===i)e.forEach((function(e){r(e,""+t)}));else if("[object Object]"===i)for(var o in e)r(e[o],t+"["+o+"]");else"[object Date]"===i?n.push(t+"="+e.toISOString()):"[object Null]"===i?n.push(t+"="):"[object Undefined]"!==i&&n.push(t+"="+encodeURIComponent(e))}for(var i in e)r(e[i],i);var o=n.join("&");return o&&!t?"?"+o:o}var Hr=new(function(){function e(e){this.uriPrefix="undefined"!==typeof e?e:""}var t=e.prototype;return t.GetConfig=function(e,t){var n=Ur(e),r=this.uriPrefix+"/api/v"+(e.version||1)+"/arch/config_center_gw/get_config"+n;return(0,Er.H)(r,{method:jr,headers:Lr},t,e)},t.MGetConfigByAppName=function(e,t){var n=Ur(e),r=this.uriPrefix+"/api/v"+(e.version||1)+"/arch/config_center_gw/mget_config_by_app_name"+n;return(0,Er.H)(r,{method:jr,headers:Lr},t,e)},t.MGetConfigByConfigName=function(e,t){var n=Ur(e),r=this.uriPrefix+"/api/v"+(e.version||1)+"/arch/config_center_gw/mget_config_by_config_name"+n;return(0,Er.H)(r,{method:jr,headers:Lr},t,e)},e}()),Gr=function(e,t){return Pr(void 0,null,(0,r.A)().mark((function n(){var i,o;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},n.prev=1,n.next=4,Hr.GetConfig({domain_name:"gec_universal_data_collection",app_name:e||"default_app_name",config_name:t});case 4:o=n.sent,i=o,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),i={};case 11:return n.abrupt("return",i);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))};function zr(e,t,n){return Pr(this,null,(0,r.A)().mark((function i(){var o,a,s,l;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a={},t){r.next=3;break}return r.abrupt("return",a);case 3:return r.prev=3,r.next=6,Gr(t,"btm_page_pattern");case 6:return s=r.sent,l=null!=(o=s.config.config_data.data[e.toUpperCase()])?o:s.config.config_data.data.SG,a=JSON.parse(l.data?l.data:s.config.config_data.data.SG.data),r.abrupt("return",a);case 12:r.prev=12,r.t0=r.catch(3),null==n||n.error("fetch tcc config error",r.t0);case 15:return r.abrupt("return",a);case 16:case"end":return r.stop()}}),i,null,[[3,12]])})))}function Kr(e,t,n){return Pr(this,null,(0,r.A)().mark((function i(){var o,a,s,l,u,c,d,h,m,p,f,v,g;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f={},t){r.next=3;break}return r.abrupt("return",f);case 3:return r.prev=3,r.next=6,Gr(t,"session_replay_config");case 6:return v=r.sent,(g=null==(s=null==(a=null==(o=null==v?void 0:v.config)?void 0:o.config_data)?void 0:a.data)?void 0:s[e.toUpperCase()])||(g="CB"!==e.toUpperCase()?null==(c=null==(u=null==(l=null==v?void 0:v.config)?void 0:l.config_data)?void 0:u.data)?void 0:c.SG:{data:JSON.stringify({enableSessionReplay:!1,enableOncall:!1,experiments:[]})}),f=JSON.parse((null==g?void 0:g.data)?null==g?void 0:g.data:null==(p=null==(m=null==(h=null==(d=null==v?void 0:v.config)?void 0:d.config_data)?void 0:h.data)?void 0:m.SG)?void 0:p.data),r.abrupt("return",f);case 13:r.prev=13,r.t0=r.catch(3),null==n||n.error("fetch tcc config error",r.t0);case 16:return r.abrupt("return",f);case 17:case"end":return r.stop()}}),i,null,[[3,13]])})))}function Vr(e,t,n){return Pr(this,null,(0,r.A)().mark((function i(){var o,a,s;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=[],t){r.next=3;break}return r.abrupt("return",o);case 3:return r.prev=3,r.next=6,Gr(t,"journey_trajectory");case 6:return a=r.sent,(s=a.config.config_data.data[e.toUpperCase()])||(s="CB"!==e.toUpperCase()?a.config.config_data.data.SG:{data:JSON.stringify([])}),o=JSON.parse(s.data?s.data:"[]"),r.abrupt("return",o);case 13:r.prev=13,r.t0=r.catch(3),null==n||n.error("fetch trajectory config error",r.t0);case 16:return r.abrupt("return",o);case 17:case"end":return r.stop()}}),i,null,[[3,13]])})))}function Wr(e,t,n){return Pr(this,null,(0,r.A)().mark((function i(){var o,a,s;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o={},t){r.next=3;break}return r.abrupt("return",o);case 3:return r.prev=3,r.next=6,Gr(t,"fe_trajectory_config");case 6:return a=r.sent,(s=a.config.config_data.data[e.toUpperCase()])||(s="CB"!==e.toUpperCase()?a.config.config_data.data.SG:{data:JSON.stringify([])}),o=JSON.parse(s.data?s.data:"[]"),r.abrupt("return",o);case 13:r.prev=13,r.t0=r.catch(3),null==n||n.error("fetch fe config error",r.t0);case 16:return r.abrupt("return",o);case 17:case"end":return r.stop()}}),i,null,[[3,13]])})))}var Fr=function(e){return Pr(void 0,null,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,e)}));case 2:case"end":return t.stop()}}),t)})))},$r=["sg","gb","id","my","ph","th","us","vn"],Yr=new(function(){function e(){var e=this;Br(this,"_btm",Ze),Br(this,"_region","sg"),Br(this,"_devLog",!1),Br(this,"logger",null),Br(this,"initLock",!1),Br(this,"_feMonitor",wt),Br(this,"logQueue",[]),Br(this,"pageInit",(function(){return e._btm.pageInit()})),Br(this,"getSessionReplayRecordingInfo",Tt),Br(this,"saveSessionReplayBlackBoxRecording",St),Br(this,"setPageParams",(function(t){return e._btm.setPageParams(t)})),Br(this,"setUnitParams",(function(t){return e._btm.setUnitParams(t)})),Br(this,"getPageBtmInfo",(function(){return e._btm.getPageBtmInfo()})),Br(this,"getFullBtmInfo",(function(t,n){return e._btm.getFullBtmInfo(t,n)})),Br(this,"sendBtmLog",(function(t,n){return e._btm.sendBtmLog(t,n)})),Br(this,"getPageBIdByUrl",(function(t){return e._btm.getPageBIdByUrl(t)})),Br(this,"getAId",(function(){return e._btm.getAId()})),Br(this,"getCurrentPageBId",(function(){return e._btm.getCurrentPageBId()})),Br(this,"getCurrentTarget",(function(){return e._btm.getCurrentTarget()})),Br(this,"setReportCallback",(function(t){return e._btm.setReportCallback(t)})),Br(this,"autoBizStartLog",(function(t){return e._btm.autoBizStartLog(t)})),Br(this,"setBCMContext",(function(t){return e._btm.setBCMContext(t)})),Br(this,"getBtmUrl",(function(t,n,r,i){return e._btm.getBtmUrl(t,n,r,i)})),Br(this,"btmJump",(function(t,n,r){return e._btm.btmJump(t,n,r)})),Br(this,"on",(function(t,n){e._btm.on(t,n)})),Br(this,"feEvent",(function(t,n){var r;Cr.log("_feMonitor event",t),null==(r=e._feMonitor)||r.on(t,n)})),Br(this,"sendBtmClickLog",(function(t){if(e._btm.isInited)return e._btm.sendBtmLogManually(Ar(Nr({},t),{type:"click"}));e.logQueue.push({type:"click",ts:Date.now(),options:t})})),Br(this,"sendBtmExposeLog",(function(t){if(e._btm.isInited)return e._btm.sendBtmLogManually(Ar(Nr({},t),{type:"expose"}));e.logQueue.push({type:"expose",ts:Date.now(),options:t})})),Br(this,"sendBtmDisappearLog",(function(t){if(e._btm.isInited)return e._btm.sendBtmLogManually(Ar(Nr({},t),{type:"disappear"}));e.logQueue.push({type:"disappear",ts:Date.now(),options:t})})),Br(this,"manualPageInit",(function(t,n,r){var i={type:"pageShow",ts:Date.now(),btmBId:t,options:{target:null,params:n},params:n,useBeacon:r};if(e._btm.isInited)return e._btm.sendBtmLogManually(i);e.logQueue.push(i)}))}var t=e.prototype;return t.init=function(e){return Pr(this,null,(0,r.A)().mark((function t(){var n,i,o,a,s,l,u,c,d,h,m,p,f,v,g,b,y,_,w,E,C,I,k,x,R,T,S,O,N=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g=e.region,b=void 0===g?"sg":g,y=e.devLog,_=void 0!==y&&y,w=e.copyWritingConfig,E=e.sessionReplayConfig,C=e.feMonitorConfig,!this.initLock){t.next=3;break}return t.abrupt("return");case 3:return this.initLock=!0,this._region=b,this.logger=new Mr(_),t.next=8,zr(this._region,e.appName,this.logger);case 8:return I=t.sent,this.logger.info("remote BTM config",I),this._btm.init(Nr({},e),I,wr.Ay.getReverseIndex,Dr[null!=(n=e.appName)?n:""]),this.flushQueue(),((null==(i=null==I?void 0:I.copyWritingConfig)?void 0:i.enableCopyWriting)||(null==w?void 0:w.enableCopyWriting))&&(wr.Ay.config({btmInstance:this,teaCollectEvent:function(e,t){var n;null==(n=N._btm.tea)||n.report({eventName:e,eventParams:t})},copyWritingConfig:I?null==I?void 0:I.copyWritingConfig:w,customValidation:null==w?void 0:w.customValidation}),setTimeout((function(){wr.Ay.start()}),(null==w?void 0:w.copyWritingDelay)||5e3)),t.next=16,Fr(1e3);case 16:return t.next=18,Kr(this._region,e.appName,this.logger);case 18:if((null==(k=t.sent)?void 0:k.enableSessionReplay)&&this.logger.info("[SR] remote Session Replay config",k),(null==k?void 0:k.enableSessionReplay)&&(null==E?void 0:E.sessionReplayUid)&&(x=null==(o=null==k?void 0:k.experiments)?void 0:o.map((function(e){return e.region=[b],e})))&&(R=null==k?void 0:k.enableOncall,T=Nr({sessionReplayUserResearchConfigFromBackend:{enableSessionReplay:!0,experiments:x},mode:R?["user-research","oncall"]:["user-research"],sessionReplayUserCountry:b,btm:this,teaCollectEvent:function(e,t){var n;null==(n=N._btm.tea)||n.report({eventName:e,eventParams:t})},teaCallbackOn:null==(s=null==(a=this._btm)?void 0:a.tea)?void 0:s.on,teaCallbackOff:null==(u=null==(l=this._btm)?void 0:l.tea)?void 0:u.off,appId:null!=(d=Dr[null!=(c=e.appName)?c:""])?d:4068,teaSessionId:(null==(f=null==(p=null==(m=null==(h=this._btm.tea)?void 0:h.tea)?void 0:m.sessionManager)?void 0:p.getSessionId)?void 0:f.call(p))||""},E),this.logger.info("sessionReplayProps config",T),_r(T)),!(null==C?void 0:C.enableFeMonitor)){t.next=40;break}return t.prev=23,t.next=26,Vr(this._region,e.appName,this.logger);case 26:return S=t.sent,t.next=29,Wr(this._region,e.appName,this.logger);case 29:O=t.sent,I.journeyConfig=null!=(v=I.journeyConfig)?v:{},I.journeyConfig.path=S,I.feConfig=O,this._feMonitor.init({region:this._region,core:this._btm,feMonitorConfig:C,remoteConfig:I}),this._btm.on("logSent",(function(e){var t;null==(t=N._feMonitor)||t.setCurrentNode({action_btm:e.action_btm,ts:e.ts})})),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(23),this.logger.error("[FeMonitor] init error",t.t0);case 40:case"end":return t.stop()}}),t,this,[[23,37]])})))},t.updateInitParams=function(e,t){"region"===e&&$r.includes(e)?this._region=t:"uniqueId"===e&&this._btm.updateUniqueId(t)},t.flushQueue=function(){for(var e=this.logQueue.shift();e;){var t=e,n=t.options,r=t.type,i=t.btmBId,o=t.ts,a=t.useBeacon;this._btm.sendBtmLogManually(Ar(Nr({},n),{type:r,btmBId:i,ts:o,useBeacon:a})),e=this.logQueue.shift()}},e}())}}]);
//# sourceMappingURL=vendors-i18n-ecom-utils.ae77f1f9.js.map